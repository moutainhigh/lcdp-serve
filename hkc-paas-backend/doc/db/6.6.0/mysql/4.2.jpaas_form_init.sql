INSERT INTO form_rule(ID_,NAME_,PROMPT_,ALIAS_,REGULAR_,DELETED_,COMPANY_ID_,TENANT_ID_,CREATE_DEP_ID_,CREATE_BY_,CREATE_TIME_,UPDATE_BY_,UPDATE_TIME_,APP_ID_)
        values(          '1275596976204800002',          '正整数',          '请输入正整数！',          'positiveinteger',          '^[1-9]d*$',          0,            '0',          '0',          '2',          '1',          '2020-6-24 9:09:53',          '1',          '2020-12-20 21:23:59',          null);
        
INSERT INTO form_rule(ID_,NAME_,PROMPT_,ALIAS_,REGULAR_,DELETED_,COMPANY_ID_,TENANT_ID_,CREATE_DEP_ID_,CREATE_BY_,CREATE_TIME_,UPDATE_BY_,UPDATE_TIME_,APP_ID_)
        values(          '1275669328796049409',          '手机号',          '请输入手机号!',          'phone',          '^1[3456789]d{9}$',          0,            '0',          '0',          '2',          '1',          '2020-6-24 13:57:23',          '1',          '2020-12-20 21:23:52',          null);
        
INSERT INTO form_rule(ID_,NAME_,PROMPT_,ALIAS_,REGULAR_,DELETED_,COMPANY_ID_,TENANT_ID_,CREATE_DEP_ID_,CREATE_BY_,CREATE_TIME_,UPDATE_BY_,UPDATE_TIME_,APP_ID_)
        values(          '1277545456632532994',          '合法Email',          '必须输入合法Email地址!',          'email',          '^(w)+(.w+)*@(w)+((.w+)+)$',          0,            '0',          '0',          '1',          '1',          '2020-6-29 18:12:27',          '1',          '2020-12-20 21:04:47',          null);
        
INSERT INTO form_rule(ID_,NAME_,PROMPT_,ALIAS_,REGULAR_,DELETED_,COMPANY_ID_,TENANT_ID_,CREATE_DEP_ID_,CREATE_BY_,CREATE_TIME_,UPDATE_BY_,UPDATE_TIME_,APP_ID_)
        values(          '1277545684584566786',          '身份证',          '必须输入15-18位数字',          'idcard',          '(^d{15}$)|(^d{18}$)|(^d{17}(d|X|x)$)',          0,            '0',          '0',          '1',          '1',          '2020-6-29 18:13:22',          '1',          '2020-12-20 21:23:37',          null);
        
INSERT INTO form_rule(ID_,NAME_,PROMPT_,ALIAS_,REGULAR_,DELETED_,COMPANY_ID_,TENANT_ID_,CREATE_DEP_ID_,CREATE_BY_,CREATE_TIME_,UPDATE_BY_,UPDATE_TIME_,APP_ID_)
        values(          '1277545966160777217',          '英文或数字',          '必须输入英文或数字',          'isenglishandnumber',          '^[0-9a-zA-Z\_]+$',          0,            '0',          '0',          '1',          '1',          '2020-6-29 18:14:29',          '',          '2020-12-20 21:08:48',          null);
        
INSERT INTO form_rule(ID_,NAME_,PROMPT_,ALIAS_,REGULAR_,DELETED_,COMPANY_ID_,TENANT_ID_,CREATE_DEP_ID_,CREATE_BY_,CREATE_TIME_,UPDATE_BY_,UPDATE_TIME_,APP_ID_)
        values(          '1277546396345372673',          '数字',          '必须输入数字',          'number',          '^[-+]?[0-9]+(.[0-9]+)?$',          0,            '0',          '0',          '1',          '1',          '2020-6-29 18:16:11',          '',          '2020-12-20 21:08:10',          null);
        
INSERT INTO form_rule(ID_,NAME_,PROMPT_,ALIAS_,REGULAR_,DELETED_,COMPANY_ID_,TENANT_ID_,CREATE_DEP_ID_,CREATE_BY_,CREATE_TIME_,UPDATE_BY_,UPDATE_TIME_,APP_ID_)
        values(          '1277546588067008514',          '浮点数',          '必须输入浮点数',          'float',          '^-?([1-9]d*.d*|0.d*[1-9]d*|0?.0+|0|d*)$',          0,            '0',          '0',          '1',          '1',          '2020-6-29 18:16:57',          '',          '2020-12-20 21:07:36',          null);
        
INSERT INTO form_rule(ID_,NAME_,PROMPT_,ALIAS_,REGULAR_,DELETED_,COMPANY_ID_,TENANT_ID_,CREATE_DEP_ID_,CREATE_BY_,CREATE_TIME_,UPDATE_BY_,UPDATE_TIME_,APP_ID_)
        values(          '1277547652346482689',          'ip',          '必须输入合法IP地址',          'ip',          '^d+.d+.d+.d+$',          0,            '0',          '0',          '1',          '1',          '2020-6-29 18:21:11',          '',          '2020-12-20 21:06:30',          null);
        
INSERT INTO form_codegen_template(ID_,NAME_,FILE_NAME_,PATH_,SINGLE_,ENABLED_,CONTENT_,DELETED_,COMPANY_ID_,TENANT_ID_,CREATE_DEP_ID_,CREATE_BY_,CREATE_TIME_,UPDATE_BY_,UPDATE_TIME_)
        values(          '1424623584797523970',          '控制器模板',          '{class}Controller.java',          'src/main/java/com/redxun/{system}/{package}/controller',          'NO',          'YES',          '<#assign package=model.vars.package>\n<#assign class=model.vars.class>\n<#assign classVar=model.vars.classVar>\n<#assign comment=model.name>\n<#assign system=vars.system>\n<#assign domain=vars.domain>\n<#assign tableName=model.tableName>\n<#assign colList=model.boAttrList>\n\npackage ${domain}.${system}.${package}.controller;\n\nimport com.redxun.common.base.db.BaseService;\nimport com.redxun.form.codegen.controller.CodeGenBaseController;\nimport ${domain}.${system}.${package}.entity.${class};\nimport ${domain}.${system}.${package}.service.${class}ServiceImpl;\nimport io.swagger.annotations.Api;\nimport lombok.extern.slf4j.Slf4j;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.web.bind.annotation.*;\nimport com.redxun.common.annotation.ClassDefine;\n\n\n/**\n* [${model.name}] 控制器代码\n* @author: ${vars.developer}\n* @company: ${vars.company}\n* @date: ${vars.date}\n*/\n@Slf4j\n@RestController\n@RequestMapping(\"/${system}/${package}/${classVar}\")\n@Api(tags = \"${comment}\")\n@ClassDefine(title = \"${comment}\",alias = \"${class}Controller\",path = \"/${system}/${package}/${classVar}\",packages = \"${package}\",packageName = \"子系统名称\")\npublic class ${class}Controller extends CodeGenBaseController<${class}> {\n\n	@Autowired\n	${class}ServiceImpl ${classVar}Service;\n\n\n\n	@Override\n	public BaseService getBaseService() {\n		return ${classVar}Service;\n	}\n\n	@Override\n	public String getComment() {\n		return \"${comment}\";\n	}\n\n	@Override\n	public String getFormAlias() {\n		return \"${formAlias}\";\n	}\n\n\n}',          0,            '0',          '1',          '1',          '1',          '2021-8-9 0:00:00',          '1',          '2021-8-19 0:00:00');
        
INSERT INTO form_codegen_template(ID_,NAME_,FILE_NAME_,PATH_,SINGLE_,ENABLED_,CONTENT_,DELETED_,COMPANY_ID_,TENANT_ID_,CREATE_DEP_ID_,CREATE_BY_,CREATE_TIME_,UPDATE_BY_,UPDATE_TIME_)
        values(          '1424627869878845442',          '实体模板',          '{class}.java',          'src/main/java/com/redxun/{system}/{package}/entity',          'NO',          'YES',          '<#assign package=model.vars.package>\n<#assign class=model.vars.class>\n<#assign classVar=model.vars.classVar>\n<#assign comment=model.name>\n<#assign system=vars.system>\n<#assign domain=vars.domain>\n<#assign tableName=model.tableName>\n<#assign colList=model.boAttrList>\n<#assign idField=convertUnderLine(model.idField)>\n\n\n/**\n* [${model.name}]实体类定义\n* @author: ${vars.developer}\n* @company: ${vars.company}\n* @date: ${vars.date}\n*/\npackage ${domain}.${system}.${package}.entity;\n\nimport com.baomidou.mybatisplus.annotation.IdType;\nimport com.baomidou.mybatisplus.annotation.TableField;\nimport com.baomidou.mybatisplus.annotation.TableId;\nimport com.baomidou.mybatisplus.annotation.TableName;\nimport com.fasterxml.jackson.annotation.JsonCreator;\nimport ${domain}.common.base.entity.BaseExtEntity;\nimport lombok.Getter;\nimport lombok.Setter;\nimport lombok.experimental.Accessors;\nimport java.util.ArrayList;\nimport java.util.List;\nimport org.apache.ibatis.type.JdbcType;\nimport java.util.Date;\n\n\n@Setter\n@Getter\n@Accessors(chain = true)\n@TableName(value = \"${tableName}\")\npublic class ${class}  extends BaseExtEntity<java.lang.String> {\n\n    @JsonCreator\n    public ${class}() {\n    }\n	\n	//主键\n    @TableId(value = \"${model.idField}\",type = IdType.INPUT)\n	private String ${idField};\n\n	@Override\n    public String getPkId() {\n        return this.${idField};\n    }\n\n    @Override\n    public void setPkId(String pkId) {\n        this.${idField}=pkId;\n    }\n\n\n    <#list colList as col>\n    //${col.comment}\n    @TableField(value = \"${col.fieldName}\",jdbcType=JdbcType.${getJdbcType(col)})\n    private ${getJavaType(col)} ${col.name};\n    </#list>\n\n	\n	<#if model.boEntityList?size gt 0 >\n  <#list model.boEntityList as subEnt>\n    @TableField(exist=false)\n	private List<${subEnt.vars.class}> ${subEnt.vars.classVar}List=new ArrayList<>();\n		</#list>\n	</#if>\n \n}\n\n\n<#function getJdbcType col>\n<#assign dbtype=col.dataType?lower_case>\n<#assign rtn>\n	<#if  dbtype==\"number\"  >\n		NUMERIC\n	<#elseif (dbtype==\"date\")>\n		DATE\n	<#else>\n		VARCHAR\n	</#if>\n</#assign>\n<#return rtn?trim>\n</#function>\n\n\n<#function getJavaType col>\n<#assign dbtype=col.dataType?lower_case>\n<#assign rtn>\n<#if  dbtype==\"number\"  >\n    <#if col.decimalLength==0>\n         <#if col.length gt 10 >\n            long\n         <#else>\n            int\n         </#if>\n    <#else>\n         double\n    </#if>\n<#elseif (dbtype==\"date\")>\n	Date\n<#else>\n	String\n</#if>\n</#assign>\n <#return rtn?trim>\n</#function>\n\n\n<#function convertUnderLine field>\n	<#if field?index_of(\"_\")==-1>\n		<#assign rtn>${field?lower_case?trim}</#assign>\n		<#return rtn>\n	</#if>\n\n	<#if field?index_of(\"F_\")==0>\n		<#assign rtn><#list (field?substring(2))?split(\"_\") as x><#if (x_index==0)><#if x?length==1>${x?upper_case?trim}<#else>${x?lower_case?trim}</#if><#else>${x?lower_case?cap_first?trim}</#if></#list></#assign>\n		<#return rtn>\n	</#if>\n\n	<#assign rtn><#list field?split(\"_\") as x><#if (x_index==0)><#if x?length==1>${x?upper_case?trim}<#else>${x?lower_case?trim}</#if><#else>${x?lower_case?cap_first?trim}</#if></#list></#assign>\n <#return rtn>\n</#function>\n\n',          0,            '0',          '1',          '1',          '1',          '2021-8-9 0:00:00',          '1',          '2021-8-19 0:00:00');
        
INSERT INTO form_codegen_template(ID_,NAME_,FILE_NAME_,PATH_,SINGLE_,ENABLED_,CONTENT_,DELETED_,COMPANY_ID_,TENANT_ID_,CREATE_DEP_ID_,CREATE_BY_,CREATE_TIME_,UPDATE_BY_,UPDATE_TIME_)
        values(          '1424629106896535554',          'Mapping文件',          '{class}Mapper.xml',          'src/main/resources/mapper/{system}/{package}',          'NO',          'YES',          '<#assign package=model.vars.package>\n<#assign class=model.vars.class>\n<#assign system=vars.system>\n<#assign domain=vars.domain>\n<#assign type=\"${domain}.\"+system+\".\"+ package +\".entity.\" +class>\n<#assign tableName=model.tableName>\n<#assign colList=model.boAttrList>\n<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<!DOCTYPE mapper PUBLIC \"-//mybatis.org//DTD Mapper 3.0//EN\" \"http://mybatis.org/dtd/mybatis-3-mapper.dtd\">\n<mapper namespace=\"${domain}.${system}.${package}.mapper.${class}Mapper\">\n\n    <resultMap id=\"${class}\" type=\"${type}\">\n            <#assign idField=convertUnderLine(model.idField)>\n            <id property=\"${idField}\" column=\"${model.idField}\" jdbcType=\"VARCHAR\"/>\n		        <#list colList as col>\n    	        <#assign colName=convertUnderLine(col.fieldName)>\n      	      <result property=\"${colName}\" column=\"${col.fieldName}\" jdbcType=\"${getJdbcType(col)}\"/>\n		        </#list>\n		        \n		      <#if model.genMode==\"form\">\n		      <result property=\"tenantId\" column=\"TENANT_ID_\" jdbcType=\"VARCHAR\"/>\n		      <result property=\"createBy\" column=\"CREATE_BY_\" jdbcType=\"VARCHAR\"/>\n		      <result property=\"createTime\" column=\"CREATE_TIME_\" jdbcType=\"DATE\"/>\n		      <result property=\"updateBy\" column=\"UPDATE_BY_\" jdbcType=\"VARCHAR\"/>\n		      <result property=\"updateTime\" column=\"UPDATE_TIME_\" jdbcType=\"DATE\"/>\n		      <result property=\"createDepId\" column=\"CREATE_DEP_ID_\" jdbcType=\"VARCHAR\"/>\n		      </#if>\n    </resultMap>\n\n\n    <select id=\"query\" resultType=\"${type}\" parameterType=\"java.util.Map\">\n        select ${model.idField},<#list colList as col>${col.fieldName}<#if col_has_next>,</#if></#list><#if model.genMode==\"form\">,TENANT_ID_,CREATE_BY_,CREATE_TIME_,UPDATE_BY_,UPDATE_TIME_,CREATE_DEP_ID_</#if> from ${tableName}\n        <#noparse>\n        <where>\n            <if test=\"@rx.Ognl@isNotEmpty(w.whereSql)\">\n                ${w.whereSql}\n            </if>\n        </where>\n        <if test=\"@rx.Ognl@isNotEmpty(w.orderBySql)\">\n            ORDER BY ${w.orderBySql}\n        </if>\n        <if test=\"@rx.Ognl@isEmpty(w.orderBySql)\"></#noparse>\n            ORDER BY  ${model.idField} DESC\n        </if>\n    </select>\n\n</mapper>\n\n<#function getJdbcType col>\n<#assign dbtype=col.dataType?lower_case>\n<#assign rtn>\n	<#if  dbtype==\"number\"  >\n		NUMERIC\n	<#elseif (dbtype==\"date\")>\n		DATE\n	<#else>\n		VARCHAR\n	</#if>\n</#assign>\n<#return rtn?trim>\n</#function>\n\n\n<#function convertUnderLine field>\n	<#if field?index_of(\"_\")==-1>\n		<#assign rtn>${field?lower_case?trim}</#assign>\n		<#return rtn>\n	</#if>\n\n	<#if field?index_of(\"F_\")==0>\n		<#assign rtn><#list (field?substring(2))?split(\"_\") as x><#if (x_index==0)><#if x?length==1>${x?upper_case?trim}<#else>${x?lower_case?trim}</#if><#else>${x?lower_case?cap_first?trim}</#if></#list></#assign>\n		<#return rtn>\n	</#if>\n\n	<#assign rtn><#list field?split(\"_\") as x><#if (x_index==0)><#if x?length==1>${x?upper_case?trim}<#else>${x?lower_case?trim}</#if><#else>${x?lower_case?cap_first?trim}</#if></#list></#assign>\n <#return rtn>\n</#function>\n\n',          0,            '0',          '1',          '1',          '1',          '2021-8-9 0:00:00',          '1',          '2021-8-18 0:00:00');
        
INSERT INTO form_codegen_template(ID_,NAME_,FILE_NAME_,PATH_,SINGLE_,ENABLED_,CONTENT_,DELETED_,COMPANY_ID_,TENANT_ID_,CREATE_DEP_ID_,CREATE_BY_,CREATE_TIME_,UPDATE_BY_,UPDATE_TIME_)
        values(          '1424629731029942274',          '数据库访问类',          '{class}Mapper.java',          'src/main/java/com/redxun/{system}/{package}/mapper',          'NO',          'YES',          '<#assign package=model.vars.package>\n<#assign class=model.vars.class>\n<#assign system=vars.system>\n<#assign domain=vars.domain>\n<#assign type=\"${domain}.\"+system+\".\"+ package +\".entity.\" +class>\n<#assign tableName=model.tableName>\n    \npackage ${domain}.${system}.${package}.mapper;\n\nimport ${domain}.${system}.${package}.entity.${class};\nimport org.apache.ibatis.annotations.Mapper;\nimport com.redxun.common.base.db.BaseDao;\n\n/**\n* [${model.name}]据库访问层\n* @author: ${vars.developer}\n* @company: ${vars.company}\n* @date: ${vars.date}\n*/\n@Mapper\npublic interface ${class}Mapper extends BaseDao<${class}> {\n\n}\n',          0,            '0',          '1',          '1',          '1',          '2021-8-9 0:00:00',          '1',          '2021-8-19 0:00:00');
        
INSERT INTO form_codegen_template(ID_,NAME_,FILE_NAME_,PATH_,SINGLE_,ENABLED_,CONTENT_,DELETED_,COMPANY_ID_,TENANT_ID_,CREATE_DEP_ID_,CREATE_BY_,CREATE_TIME_,UPDATE_BY_,UPDATE_TIME_)
        values(          '1424630163097780225',          '服务层代码',          '{class}ServiceImpl.java',          'src/main/java/com/redxun/{system}/{package}/service',          'YES',          'YES',          '<#assign package=model.vars.package>\n<#assign class=model.vars.class>\n<#assign classVar=model.vars.classVar>\n<#assign system=vars.system>\n<#assign domain=vars.domain>\n\npackage ${domain}.${system}.${package}.service;\n\nimport com.baomidou.mybatisplus.core.conditions.query.QueryWrapper;\nimport com.redxun.common.base.db.BaseDao;\nimport com.redxun.common.base.db.BaseService;\nimport com.redxun.common.service.impl.SuperServiceImpl;\nimport ${domain}.${system}.${package}.entity.${class};\nimport ${domain}.${system}.${package}.mapper.${class}Mapper;\n<#if model.boEntityList?size gt 0 >\n<#list model.boEntityList as subEnt>\nimport ${domain}.${system}.${package}.mapper.${subEnt.vars.class}Mapper;\n</#list>\n</#if>\nimport org.springframework.stereotype.Service;\n\nimport javax.annotation.Resource;\nimport java.io.Serializable;\nimport java.util.Collection;\n\n\n/**\n* [${model.name}]业务服务类\n* @author: ${vars.developer}\n* @company: ${vars.company}\n* @date: ${vars.date}\n*/\n@Service\npublic class ${class}ServiceImpl extends SuperServiceImpl<${class}Mapper, ${class}> implements BaseService<${class}> {\n\n    @Resource\n    private ${class}Mapper ${classVar}Mapper;\n    \n    <#if model.boEntityList?size gt 0 >\n    <#list model.boEntityList as subEnt>\n    @Resource\n    private ${subEnt.vars.class}Mapper ${subEnt.vars.classVar}Mapper;\n    </#list>\n    </#if>\n   \n    @Override\n    public BaseDao<${class}> getRepository() {\n        return ${classVar}Mapper;\n    }\n\n		\n	<#if model.boEntityList?size gt 0 >\n	@Override\n    public void delete(Collection<Serializable> entities) {\n\n        for(Serializable id:entities){\n            //根据ID删除${model.name}\n            ${classVar}Mapper.deleteById(id);\n            <#list model.boEntityList as subEnt>\n            //根据ID删除${subEnt.name}    \n    		QueryWrapper wrapper=new QueryWrapper();\n            wrapper.eq(\"${subEnt.boRelation.fkField}\",id);\n            ${subEnt.vars.classVar}Mapper.delete(wrapper);\n    		</#list>\n        }\n    }\n    </#if>\n\n\n}\n',          0,            '0',          '1',          '1',          '1',          '2021-8-9 0:00:00',          '1',          '2021-8-19 0:00:00');
        
INSERT INTO form_codegen_template(ID_,NAME_,FILE_NAME_,PATH_,SINGLE_,ENABLED_,CONTENT_,DELETED_,COMPANY_ID_,TENANT_ID_,CREATE_DEP_ID_,CREATE_BY_,CREATE_TIME_,UPDATE_BY_,UPDATE_TIME_)
        values(          '1424906913904091137',          '列表文件',          '{class}List.vue',          'src/views/modules/{system}/{package}',          'YES',          'YES',          '<#assign package=model.vars.package>\n<#assign class=model.vars.class>\n<#assign classVar=model.vars.classVar>\n<#assign comment=model.name>\n<#assign pk=model.idField>\n<#assign system=vars.system>\n<#assign domain=vars.domain>\n<#assign commonList=model.boAttrList>\n<template>\n  <rx-layout>\n    <div slot=\"center\" style>\n      <rx-fit>\n        <div slot=\"toolheader\" foldheader=\"true\" foldbtn=\"false\" border=\"false\">\n          <div class=\"table-operator\">\n            <rx-button alias=\"${classVar}Add\" :butn-icon=\"''plus''\" :butn-type=\"''primary''\" :show-no-right=\"true\" @click=\"add\">新建</rx-button>\n            <a-dropdown v-if=\"editEnable && selectedRowKeys.length > 0 || removeEnable && selectedRowKeys.length > 0\">\n              <a-button style=\"margin-left: 8px\"> 更多 <a-icon type=\"down\" /> </a-button>\n              <a-menu slot=\"overlay\">\n                <a-menu-item key=\"1\" v-if=\"editEnable && selectedRowKeys.length > 0\" alias=\"${classVar}Edit\" :butn-icon=\"''edit''\"\n                             :butn-type=\"''primary''\" :show-no-right=\"false\" @click=\"editOne\"><a-icon type=\"edit\"  />编辑</a-menu-item>\n                <a-menu-item key=\"2\" v-if=\"removeEnable && selectedRowKeys.length > 0\" alias=\"${classVar}Delete\" :butn-icon=\"''delete''\" :butn-type=\"''danger''\"\n                             :show-no-right=\"false\" @click=\"delByIds(selectedRowKeys)\"><a-icon type=\"delete\" />删除</a-menu-item>\n              </a-menu>\n            </a-dropdown>\n          </div>\n          <span class=\"search-btn-box\">\n                <span class=\"search-btn\" @click=\"searchshow\"><i class=\"iconfont iconguolv\"></i>过滤</span>\n           </span>\n        </div>\n        <div slot=\"searchbar\" btnalign=\"right\"  v-if=\"fitSearch\" @search=\"search\" @cancel=\"cancel\" @close=\"close\">\n          <a-form layout=\"vertical\">\n            <#list commonList as col>\n              <a-form-item label=\"${col.comment}\">\n                <#if (col.dataType==\"date\")>\n                  从\n                  <a-date-picker placeholder=\"请输入${col.comment}\" v-model=\"queryParam.Q_${col.fieldName}_D_GT\"\n                                 format=\"YYYY-MM-DD\"/>至\n                  <a-date-picker placeholder=\"请输入${col.comment}\" v-model=\"queryParam.Q_${col.fieldName}_D_LT\"\n                                 format=\"YYYY-MM-DD\"/>\n                <#elseif (col.dataType==\"number\")>\n                  <a-input-number :min=\"0\" :max=\"1000000\" placeholder=\"请输入${col.comment}\"\n                                  v-model=\"queryParam.Q_${col.fieldName}_I_EQ\"/>\n                <#else>\n                  <a-input placeholder=\"请输入${col.comment}\" v-model=\"queryParam.Q_${col.fieldName}_S_LK\"/>\n                </#if>\n              </a-form-item>\n            </#list>\n          </a-form>\n        </div>\n        <#assign idField=convertUnderLine(pk)>\n        <rx-grid\n                ref=\"table\"\n                :allowRowSelect=\"true\"\n                :multiSelect=\"true\"\n                :columns=\"columns\"\n                :defaultPageSize=\"10\"\n                url=\"/api-${system}/${system}/${package}/${classVar}/query\"\n                :queryParam=\"queryParam\"\n                data-field=\"result.data\"\n                :pageSizeOptions=\"[''10'',''30'',''40'']\"\n                id-field=\"${idField}\"\n                @selectChange=\"onSelectChange\"\n        >\n          <span slot=\"action\" slot-scope=\"{ text, record }\" class=\"actionIcons\">\n                <span  @click.stop=\"edit(record)\">编辑</span>\n				<span  @click.stop=\"detail(record)\">明细</span>\n                <span  @click.stop=\"delByIds([record.${idField}])\">删除</span>\n            </span>\n        </rx-grid>\n      </rx-fit>\n    </div>\n  </rx-layout>\n</template>\n\n<script>\n  import ${class}Api from ''@/api/${system}/${package}/${classVar}''\n  import ${class}Edit from ''./${class}Edit''\n  import {BaseList,RxFit,RxGrid } from ''jpaas-common-lib'';\n  import RxButton from \"@/views/modules/share/rx-button\";\n  import RxSpan from \"@/views/modules/share/rx-span\";\n  export default {\n    name: ''${class}List'',\n    mixins: [BaseList],\n    components: {\n      RxButton,\n      RxSpan,\n      RxFit\n    },\n    data() {\n      return {\n        columns: [\n          {\n            title: ''序号'',\n            type: ''indexColumn'',\n            width: 100,\n            dataIndex: ''serial'',\n            scopedSlots: {customRender: ''serial''}\n          },\n          <#list commonList as col>\n          {title: ''${col.comment}'', dataIndex: ''${col.name}'', width: 100},\n          </#list>\n          {title: ''操作'', width: 100, dataIndex: ''action'', scopedSlots: {customRender: ''action''}}\n        ],\n        component:${class}Edit,\n        comment:\"${comment}\",\n        widthHeight:[''800px'',''600px''],\n        fitSearch:false,\n      }\n    },\n    methods:{\n      delById(ids){\n        return ${class}Api.del({ ids: ids.join('','') });\n      },\n      getListByParams(parameter){\n        return ${class}Api.query(parameter)\n      }\n\n    }\n  }\n</script>\n<style scoped>\n  .table-operator {\n    padding:4px;\n  }\n  .table-operator button {\n    margin:2px;\n  }\n</style>\n\n<#function convertUnderLine field>\n  <#if field?index_of(\"_\")==-1>\n    <#assign rtn>${field?lower_case?trim}</#assign>\n    <#return rtn>\n  </#if>\n\n  <#if field?index_of(\"F_\")==0>\n    <#assign rtn><#list (field?substring(2))?split(\"_\") as x><#if (x_index==0)><#if x?length==1>${x?upper_case?trim}<#else>${x?lower_case?trim}</#if><#else>${x?lower_case?cap_first?trim}</#if></#list></#assign>\n    <#return rtn>\n  </#if>\n\n  <#assign rtn><#list field?split(\"_\") as x><#if (x_index==0)><#if x?length==1>${x?upper_case?trim}<#else>${x?lower_case?trim}</#if><#else>${x?lower_case?cap_first?trim}</#if></#list></#assign>\n  <#return rtn>\n</#function>\n\n',          0,            '0',          '1',          '1',          '1',          '2021-8-10 0:00:00',          '1',          '2021-8-19 0:00:00');
        
INSERT INTO form_codegen_template(ID_,NAME_,FILE_NAME_,PATH_,SINGLE_,ENABLED_,CONTENT_,DELETED_,COMPANY_ID_,TENANT_ID_,CREATE_DEP_ID_,CREATE_BY_,CREATE_TIME_,UPDATE_BY_,UPDATE_TIME_)
        values(          '1424907493359771649',          'Apijs代码',          '{classVar}.js',          'src/api/{system}/{package}',          'YES',          'YES',          '<#assign package=model.vars.package>\n<#assign class=model.vars.class>\n<#assign classVar=model.vars.classVar>\n<#assign developer=vars.developer>\n<#assign system=vars.system>\n<#assign name=model.name>\n<#assign domain=vars.domain>\nimport rxAjax from ''@/assets/js/ajax.js'';\n\n/*\n 概要说明:${name} api接口\n 开发人员:${developer}\n*/\nexport const ${class}Api = {};\n\n${class}Api.baseUrl= ''/api-${system}/${system}/${package}/${classVar}'';\n${class}Api.exportUrl= ${class}Api.baseUrl + ''/export'';\n\n//查询列表\n${class}Api.query=function (parameter) {\n  var url= ${class}Api.baseUrl + ''/query'';\n  return rxAjax.postJson(url,parameter).then (res => {\n    return res.result\n  })\n}\n\n\n/**\n * 获取表单数据\n * @param pkId\n * @returns {*}\n */\n${class}Api.getById =function(pkId) {\n    var url= HtglApi.baseUrl + ''/getById?pkId='' + pkId;\n    return rxAjax.get(url);\n}\n\n/**\n * 保存表单数据\n * @param formdata\n * @returns {*}\n */\n${class}Api.saveData =function(formdata) {\n    var url= HtglApi.baseUrl + ''/saveData'';\n    return rxAjax.postJson(url,formdata);\n}\n\n\n\n//删除数据\n${class}Api.del =function(parameter) {\n  var url= ${class}Api.baseUrl + ''/del'';\n  return rxAjax.postUrl(url,parameter);\n}\n\nexport  default ${class}Api;\n\n',          0,            '0',          '1',          '1',          '1',          '2021-8-10 0:00:00',          '1',          '2021-8-18 0:00:00');
        
INSERT INTO form_codegen_template(ID_,NAME_,FILE_NAME_,PATH_,SINGLE_,ENABLED_,CONTENT_,DELETED_,COMPANY_ID_,TENANT_ID_,CREATE_DEP_ID_,CREATE_BY_,CREATE_TIME_,UPDATE_BY_,UPDATE_TIME_)
        values(          '1424907493359771650',          '实体转json映射',          '{classVar}.json',          'src/main/resources/entityJson/{package}',          'YES',          'YES',          '${jsonFile}',          0,            '0',          '1',          '1',          '1',          '2021-8-10 0:00:00',          '1',          '2021-8-18 0:00:00');
        
INSERT INTO form_codegen_template(ID_,NAME_,FILE_NAME_,PATH_,SINGLE_,ENABLED_,CONTENT_,DELETED_,COMPANY_ID_,TENANT_ID_,CREATE_DEP_ID_,CREATE_BY_,CREATE_TIME_,UPDATE_BY_,UPDATE_TIME_)
        values(          '1424907787665694721',          '编辑页面',          '{class}Edit.vue',          'src/views/modules/{system}/{package}',          'YES',          'YES',          '${vueTemplate}',          0,            '0',          '1',          '1',          '1',          '2021-8-10 0:00:00',          '1',          '2021-8-18 0:00:00');
        
INSERT INTO form_codegen_template(ID_,NAME_,FILE_NAME_,PATH_,SINGLE_,ENABLED_,CONTENT_,DELETED_,COMPANY_ID_,TENANT_ID_,CREATE_DEP_ID_,CREATE_BY_,CREATE_TIME_,UPDATE_BY_,UPDATE_TIME_)
        values(          '1427176661270401026',          '编辑JS',          '{class}Data.js',          'src/views/modules/{system}/{package}',          'YES',          'YES',          '${vueJs}',          0,            '0',          '1',          '1',          '1',          '2021-8-16 0:00:00',          '1',          '2021-8-18 0:00:00');
        
INSERT INTO form_template(ID_,NAME_,ALIAS_,TEMPLATE_,TYPE_,CATEGORY_,FILE_NAME_,PATH_,SINGLE_,GEN_MODE_,MAIN_SUB_TYPE_,DELETED_,COMPANY_ID_,TENANT_ID_,CREATE_DEP_ID_,CREATE_BY_,CREATE_TIME_,UPDATE_BY_,UPDATE_TIME_,APP_ID_)
        values(          '1275710436348100609',          '主表单列模板',          'oneColumn',          '<#setting number_format=\"#\">\n<table class=\"table-form two-column\" style=\"width:100%;\">\n    <caption>\n        ${ent.name}\n    </caption>\n 	<colgroup>\n            <col width=\"20%\"/>\n            <col width=\"80%\"/>\n    </colgroup>\n    <tbody>\n        <#list ent.boAttrList as field>\n			<#if (field.control!=''rx-ref'')>\n				<tr <#if (field_index==0)>class=\"firstRow\"</#if>>\n					<td style=\"word-break: break-all;\">\n						${field.comment}\n					</td>\n					<td>\n						<@fieldCtrl field=field type=''main'' />\n					</td>\n				</tr>\n			</#if>\n        \n        </#list>\n    </tbody>\n</table>',          'pc',          'main',          null,          null,          null,          null,          null,          0,            '0',          '0',          '2',          '1',          '2020-6-24 16:40:44',          '1',          '2022-3-4 17:29:01',          null);
        
INSERT INTO form_template(ID_,NAME_,ALIAS_,TEMPLATE_,TYPE_,CATEGORY_,FILE_NAME_,PATH_,SINGLE_,GEN_MODE_,MAIN_SUB_TYPE_,DELETED_,COMPANY_ID_,TENANT_ID_,CREATE_DEP_ID_,CREATE_BY_,CREATE_TIME_,UPDATE_BY_,UPDATE_TIME_,APP_ID_)
        values(          '1277077170606948354',          '主表双列模版',          'twocolumn',          '<#setting number_format=\"#\">\n<table class=\"table-form four-column\" style=\"width:100%;\">\n    <caption>\n        ${ent.name}\n    </caption>\n   <col width=\"15%\"/>\n            <col width=\"35%\"/>\n            <col width=\"15%\"/>\n            <col width=\"35%\"/>\n    <tbody>\n	<#assign flag=0>\n    <#list ent.boAttrList as field>\n		<#if (field.control!=''rx-ref'')>\n			<#if (!field.spans || field.spans==1)>\n			<#if (field_index ==0 || flag==0) >\n				<tr <#if (field_index==0)>class=\"firstRow\"</#if>>\n			</#if>\n				<td style=\"word-break: break-all;\">\n					${field.comment}\n				</td>\n				<td>\n					<#assign flag++>\n					<@fieldCtrl field=field type=''main'' />\n				</td>\n				<#if ((field_index ==0 && !field_has_next && ent.boAttrList[field_index+1].spans==2) || (ent.boAttrList[field_index-1].spans==2 && !field_has_next && ent.boAttrList[field_index+1].spans==2 ) ) >\n					<td></td>\n					<td></td>\n				</#if>\n				<#if !field_has_next || (field_index ==0  && ent.boAttrList[field_index+1].spans==2)||\n				(field_index !=0  && ent.boAttrList[field_index-1].spans==1 && ent.boAttrList[field_index+1].spans==2)||\n				(field_index !=0  && ent.boAttrList[field_index-1].spans==2 && ent.boAttrList[field_index+1].spans==2)|| \n				(field_index !=0 && ent.boAttrList[field_index+1].spans==1 && flag==2) >\n					<#assign flag=0>\n					</tr>\n				</#if>\n		<#else>	\n			<tr class=\"firstRow\">\n				<td style=\"word-break: break-all;\">\n					${field.comment}\n				</td>\n				<td rowspan=\"1\" colspan=\"3\">\n					<@fieldCtrl field=field type=''main'' />\n				</td>\n			</tr>\n		</#if>\n		</#if>\n    </#list>\n    </tbody>\n</table>\n',          'pc',          'main',          null,          null,          null,          null,          null,          0,            '0',          '0',          '2',          '1',          '2020-6-28 11:11:39',          '1',          '2022-3-4 17:28:21',          null);
        
INSERT INTO form_template(ID_,NAME_,ALIAS_,TEMPLATE_,TYPE_,CATEGORY_,FILE_NAME_,PATH_,SINGLE_,GEN_MODE_,MAIN_SUB_TYPE_,DELETED_,COMPANY_ID_,TENANT_ID_,CREATE_DEP_ID_,CREATE_BY_,CREATE_TIME_,UPDATE_BY_,UPDATE_TIME_,APP_ID_)
        values(          '1277080670808162306',          '字段控件模版',          'fieldCtrl',          '<#setting number_format=\"#\">\n<#macro fieldCtrl field type entName readonly isAttr>\n    <${field.control} class=\"${field.control}\" isattr=\"${isAttr}\" type=\"${type}\" ctltype=\"${field.control}\" style=\"width:100%\"\n                        <@attrJson field=field type=type entName=entName readonly=readonly/>\n            ></${field.control}>\n</#macro>\n\n<#macro attrJson field type entName readonly>\n    :readonly=\"${readonly???string(readonly,''readonly'')}\" ctlid=\"${field.id}\"\n    <#if (type==''main'')>\n        id=\"${util.randomId()}\" :permission=\"permission.${field.name}\" v-model=\"data.${field.name}\"\n        :valid=\"validFunc(''main'',''${field.name}'')\"\n        v-on:enter=\"enter(''main'',''${field.name}'')\"\n        v-on:valuechange=\"valuechange(''main'',''${field.name}'')\"\n    <#elseif (type==''onetoone'')>\n		id=\"${field.name}${field.id}\"\n        :permission=\"permission.sub__${entName}.${field.name}\"\n        :valid=\"validFunc(''${entName}'',''${field.name}'',item)\"\n        v-model=\"data.sub__${entName}.${field.name}\"\n        v-on:enter=\"enter(''${entName}'',''${field.name}'',item)\"\n        v-on:valuechange=\"valuechange(''${entName}'',''${field.name}'',item)\"\n    <#else>\n		id=\"${field.name}${field.id}\"\n        :permission=\"permission.sub__${entName}.${field.name}\" v-model=\"item.${field.name}\" :data=\"item\"\n        :valid=\"validFunc(''${entName}'',''${field.name}'',index)\"\n        v-on:enter=\"enter(''${entName}'',''${field.name}'',item)\"\n        v-on:valuechange=\"valuechange(''${entName}'',''${field.name}'',item)\"\n        length=\"${field.length}\" from=\"input\"\n    </#if>\n</#macro>\n\n\n',          'pc',          'field',          null,          null,          null,          null,          null,          0,            '0',          '0',          '2',          '1',          '2020-6-28 11:25:34',          '',          '2022-3-9 15:07:46',          null);
        
INSERT INTO form_template(ID_,NAME_,ALIAS_,TEMPLATE_,TYPE_,CATEGORY_,FILE_NAME_,PATH_,SINGLE_,GEN_MODE_,MAIN_SUB_TYPE_,DELETED_,COMPANY_ID_,TENANT_ID_,CREATE_DEP_ID_,CREATE_BY_,CREATE_TIME_,UPDATE_BY_,UPDATE_TIME_,APP_ID_)
        values(          '1277081573669847041',          '子表行模版',          'subOneToMany',          '<#setting number_format=\"#\">\n\n            <div class=\"rx-table-body active\" ctltype=\"rx-table\" tableid=\"${ent.id}\" type=\"onetomany\"\n                 id=\"${util.randomId()}\" tablename=\"${ent.alias}\">\n                <div class=\"table-header-tool\">\n                    <div class=\"title\">\n                        <div>\n                        ${ent.name}\n                        </div>\n                    </div>\n                    <a-button-group>\n                        <a-button v-on:click=\"add(''${ent.alias}'',''inner'')\">\n                            添加\n                        </a-button>\n                        <a-button v-on:click=\"remove(''${ent.alias}'',''inner'')\">\n                            删除\n                        </a-button>\n                        <a-button v-on:click=\"up(''${ent.alias}'',''inner'')\">\n                            上移\n                        </a-button>\n                        <a-button v-on:click=\"down(''${ent.alias}'',''inner'')\">\n                            下移\n                        </a-button>\n                    </a-button-group>\n                </div>\n                <div class=\"rx-table-box\">\n                    <table class=\"rx-table\">\n                        <col style=\"width: 60px;\"/>\n                         <col style=\"width: 60px;\"/>\n                         <#list ent.boAttrList as field>\n                             <#if (field.control!=''rx-ref'')>\n                         		<col style=\"width: 160px;\"/>\n 							</#if>\n                         </#list>\n                        <thead>\n                        <tr class=\"firstRow\">\n                            <th>#</th>\n							<th>序号</th>\n                            <#list ent.boAttrList as field>\n							<#if (field.control!=''rx-ref'')>\n                         		<th>\n                                    ${field.comment}\n                                </th>\n 							</#if>\n                            </#list>\n                        </tr>\n                        </thead>\n                        <tbody>\n                        <tr v-for=\"(item,index) in data.sub__${ent.alias}\" :key=\"item.index_\" v-tableselect=\"{item:item,selmode:&#39;multi&#39;,data:data.sub__${ent.alias}}\"\n                            :class=\"{active:item.selected}\">\n                            <td><a-checkbox :checked=\"item.selected\"></a-checkbox></td>\n							 <td><rx-serial :serial=\"index+1\"></rx-serial></td>\n                            <#list ent.boAttrList as field>\n                                <#if (field.control!=''rx-ref'')>\n                                     <td>\n                                        <@fieldCtrl field=field type=''onetomany'' entName=ent.alias />\n                                    </td>\n 								</#if>\n                            </#list>\n                        </tr>\n                        </tbody>\n                    </table>\n					<div class=\"tableEmpty\" v-if=\"data.sub__${ent.alias}&amp;&amp;data.sub__${ent.alias}.length &lt;= 0\">\n                                <a-empty></a-empty>\n                            </div>\n                </div>\n            </div>\n',          'pc',          'onetomany',          null,          null,          null,          null,          null,          0,            '0',          '0',          '2',          '1',          '2020-6-28 11:29:09',          '',          '2022-3-4 10:36:17',          null);
        
INSERT INTO form_template(ID_,NAME_,ALIAS_,TEMPLATE_,TYPE_,CATEGORY_,FILE_NAME_,PATH_,SINGLE_,GEN_MODE_,MAIN_SUB_TYPE_,DELETED_,COMPANY_ID_,TENANT_ID_,CREATE_DEP_ID_,CREATE_BY_,CREATE_TIME_,UPDATE_BY_,UPDATE_TIME_,APP_ID_)
        values(          '1277085691964669953',          '子表双列模版',          'subOneToOneTwoColumn',          '<table class=\"table-form four-column\" style=\"width:100%;\" id=\"${util.randomId()}\" type=\"onetoone\" ctltype=\"rx-table-onetoone\" tableid=\"${ent.id}\" tablename=\"${ent.alias}\">\n    <caption>\n        ${ent.name}\n    </caption>\n<colgroup>\n                        <col width=\"15%\"/>\n                        <col width=\"35%\"/>\n                        <col width=\"15%\"/>\n                        <col width=\"35%\"/>\n                    </colgroup>\n    <tbody>\n    <#list ent.boAttrList as field>\n		<#if (field.control!=''rx-ref'')>\n           <#if (field_index % 2==0)>\n            <tr <#if (field_index==0)>class=\"firstRow\"</#if>>\n        </#if>\n        <td style=\"word-break: break-all;\">\n            ${field.comment}\n        </td>\n        <td>\n            <@fieldCtrl field=field type=''onetoone'' entName=ent.alias />\n        </td>\n\n        <#if field_index % 2 == 0 && !field_has_next>\n            <td></td>\n            <td></td>\n        </#if>\n        <#if field_index % 2 == 1 || !field_has_next>\n            </tr>\n        </#if>              		\n 		</#if>\n    </#list>\n    </tbody>\n</table>',          'pc',          'onetoone',          null,          null,          null,          null,          null,          0,            '0',          '0',          '2',          '1',          '2020-6-28 11:45:31',          '1',          '2022-3-4 10:38:23',          null);
        
INSERT INTO form_template(ID_,NAME_,ALIAS_,TEMPLATE_,TYPE_,CATEGORY_,FILE_NAME_,PATH_,SINGLE_,GEN_MODE_,MAIN_SUB_TYPE_,DELETED_,COMPANY_ID_,TENANT_ID_,CREATE_DEP_ID_,CREATE_BY_,CREATE_TIME_,UPDATE_BY_,UPDATE_TIME_,APP_ID_)
        values(          '1277085945392906241',          '子表单列模版',          'subWinOneColumn',          '<#setting number_format=\"#\">\n<div class=\"rx-table-body\" ctltype=\"rx-table\" type=\"onetomany\" id=\"${util.randomId()}\" tableid=\"${ent.id}\" tablename=\"${ent.alias}\" tabname=\"${ent.alias}\" style=\"width:100%\">\n        <div class=\"table-header-tool\">\n            <div class=\"title\">\n                <div>\n                    ${ent.name}\n                </div>\n            </div>\n            <a-button-group v-if=\"!getReadonly()\">\n                 <a-button  v-if=\"getSubTablePermission(''${ent.alias}'',''add'')\" v-on:click=\"add(''${ent.alias}'',''window'',''${ent.name}'')\">\n                    添加\n                </a-button>\n  				<a-button v-if=\"getSubTablePermission(''${ent.alias}'',''edit'')\" v-on:click=\"edit(''${ent.alias}'',''window'',''${ent.name}'')\">\n                    编辑\n                </a-button>\n                <a-button  v-if=\"getSubTablePermission(''${ent.alias}'',''remove'')\" v-on:click=\"remove(''${ent.alias}'',''window'',''${ent.name}'')\">\n                    删除\n                </a-button>\n                <a-button v-if=\"getSubTablePermission(''${ent.alias}'',''up'')\" v-on:click=\"up(''${ent.alias}'',''window'',''${ent.name}'')\">\n                    上移\n                </a-button>\n                <a-button v-if=\"getSubTablePermission(''${ent.alias}'',''down'')\" v-on:click=\"down(''${ent.alias}'',''window'',''${ent.name}'')\">\n                    下移\n                </a-button>\n            </a-button-group>\n        </div>\n        <div class=\"rx-table-box\" style=\"display: none\">\n            <table class=\"rx-table\">\n                <colgroup>\n                    <col style=\"width: 60px;\"/>\n            		<col style=\"width: 60px;\"/>\n                   	<#list ent.boAttrList as field>\n                            <col style=\"width: 160px;\"/>\n                    </#list>\n                   \n                </colgroup>\n                <thead>\n                    <tr class=\"firstRow\">\n                        <th>#</th>\n                        <th>序号 </th>\n                       <#list ent.boAttrList as field>\n                            <th>\n                                ${field.comment}\n                            </th>\n                        </#list>\n                    </tr>\n                </thead>\n                <tbody>\n				<tr v-if=\"item\" v-for=\"(item,index) in data.sub__${ent.alias}\" :key=\"item.index_\" v-tableselect=\"{item:item,selmode:&#39;multi&#39;,data:data.sub__${ent.alias}}\" :class=\"{active:item.selected}\" dblclick=\"edit(''${ent.alias}'')\">\n                         <td><a-checkbox :checked=\"item.selected\"></a-checkbox> </td>\n						 <td>${index + 1}</td>\n                        <#list ent.boAttrList as field>\n                            <td>\n                                <@fieldCtrl field=field type=''onetomany'' entName=ent.alias readonly=true />\n                            </td>\n                        </#list>\n                    </tr>\n                </tbody>\n            </table>\n            <div class=\"tableEmpty\" v-if=\"data.sub__${ent.alias} && data.sub__${ent.alias}.length <= 0\">\n                <a-empty></a-empty>\n            </div>\n        </div>\n        <div class=\"rx-table-dialog\"  v-if=\"0\"   id=\"dialog_${ent.alias}\" >\n            <div class=\"dialog-header\">\n                ${ent.name}\n            </div>\n\n            <table class=\"table-detail column-two table-align\" style=\"width:100%;\">\n                <colgroup>\n                  	<col width=\"20%\"/>\n                    <col width=\"80%\"/>\n                </colgroup>\n                <tbody>\n                  <#list ent.boAttrList as field>\n                      <tr>\n                        <td>${field.comment}</td>\n                        <td>\n                            <@fieldCtrl field=field type=''onetomany'' entName=ent.alias isAttr=''false''/>\n                        </td>\n                      </tr>\n                    </#list>\n                </tbody>\n            </table>\n        </div>\n    </div>\n',          'pc',          'onetomany',          null,          null,          null,          null,          null,          0,            '0',          '0',          '2',          '1',          '2020-6-28 11:46:31',          '1',          '2022-2-21 16:42:27',          null);
        
INSERT INTO form_template(ID_,NAME_,ALIAS_,TEMPLATE_,TYPE_,CATEGORY_,FILE_NAME_,PATH_,SINGLE_,GEN_MODE_,MAIN_SUB_TYPE_,DELETED_,COMPANY_ID_,TENANT_ID_,CREATE_DEP_ID_,CREATE_BY_,CREATE_TIME_,UPDATE_BY_,UPDATE_TIME_,APP_ID_)
        values(          '1277086151886880770',          '子表双列模版',          'subWinTwoColumn',          '<#setting number_format=\"#\">\n<div class=\"rx-table-body\" ctltype=\"rx-table\" type=\"onetomany\" id=\"${util.randomId()}\" tableid=\"${ent.id}\" tablename=\"${ent.alias}\" tabname=\"${ent.alias}\" style=\"width:100%\">\n        <div class=\"table-header-tool\">\n            <div class=\"title\">\n                <div>\n                    ${ent.name}\n                </div>\n            </div>\n            <a-button-group v-if=\"!getReadonly()\">\n                 <a-button  v-if=\"getSubTablePermission(''${ent.alias}'',''add'')\" v-on:click=\"add(''${ent.alias}'',''window'',''${ent.name}'')\">\n                    添加\n                </a-button>\n  				<a-button v-if=\"getSubTablePermission(''${ent.alias}'',''edit'')\" v-on:click=\"edit(''${ent.alias}'',''window'',''${ent.name}'')\">\n                    编辑\n                </a-button>\n                <a-button  v-if=\"getSubTablePermission(''${ent.alias}'',''remove'')\" v-on:click=\"remove(''${ent.alias}'',''window'',''${ent.name}'')\">\n                    删除\n                </a-button>\n                <a-button v-if=\"getSubTablePermission(''${ent.alias}'',''up'')\" v-on:click=\"up(''${ent.alias}'',''window'',''${ent.name}'')\">\n                    上移\n                </a-button>\n                <a-button v-if=\"getSubTablePermission(''${ent.alias}'',''down'')\" v-on:click=\"down(''${ent.alias}'',''window'',''${ent.name}'')\">\n                    下移\n                </a-button>\n            </a-button-group>\n        </div>\n        <div class=\"rx-table-box\" style=\"display: none\">\n            <table class=\"rx-table\">\n                <colgroup>\n                    <col style=\"width: 60px;\"/>\n            		<col style=\"width: 60px;\"/>\n                   	<#list ent.boAttrList as field>\n						<#if (field.control!=''rx-ref'')>\n							<col style=\"width: 160px;\"/>\n						</#if> \n                    </#list>\n                   \n                </colgroup>\n                <thead>\n                    <tr class=\"firstRow\">\n                        <th>#</th>\n						<th style=\"text-align:center;\">选择</th>\n                       <#list ent.boAttrList as field>\n						   <#if (field.control!=''rx-ref'')>\n								 <th>\n									${field.comment}\n								</th>\n							</#if> \n                        </#list>\n                    </tr>\n                </thead>\n                <tbody>\n                    <tr v-if=\"item\" v-for=\"(item,index) in data.sub__${ent.alias}\" :key=\"item.index_\" v-select=\"item\" :class=\"{active:item.selected}\" dblclick=\"edit(''${ent.alias}'')\">\n                        <td>${index + 1}</td>\n   						<td style=\"text-align:center;\"><a-checkbox :checked=\"item.selected\" @change=''item=>item.selected==!item.selected''></a-checkbox></td>\n                        <#list ent.boAttrList as field>\n							<#if (field.control!=''rx-ref'')>\n								<td>\n									<@fieldCtrl field=field type=''onetomany'' entName=ent.alias readonly=true />\n								</td>\n							</#if>\n                        </#list>\n                    </tr>\n                </tbody>\n            </table>\n            <div class=\"tableEmpty\" v-if=\"data.sub__${ent.alias} && data.sub__${ent.alias}.length <= 0\">\n                <a-empty></a-empty>\n            </div>\n        </div>\n        <div class=\"rx-table-dialog\"  v-if=\"0\"   id=\"dialog_${ent.alias}\" >\n            <div class=\"dialog-header\">\n                ${ent.name}\n            </div>\n\n            <table class=\"table-detail column-four table-align\" style=\"width:100%;\">\n                <colgroup>\n                    <col width=\"15%\"/>\n                    <col width=\"35%\"/>\n                    <col width=\"15%\"/>\n                    <col width=\"35%\"/>\n                </colgroup>\n                <tbody>\n                   <#list ent.boAttrList as field>\n						<#if (field.control!=''rx-ref'')>\n								<#if (field_index % 2==0)>\n                            <tr>\n                        </#if>\n                        <td style=\"word-break: break-all;\">\n                            ${field.comment}\n                        </td>\n                        <td>\n                            <@fieldCtrl field=field type=''onetomany'' entName=ent.alias isAttr=''false'' />\n                        </td>\n\n                        <#if field_index % 2 == 0 && !field_has_next>\n                            <td></td>\n                            <td></td>\n                        </#if>\n                        <#if field_index % 2 == 1 || !field_has_next>\n                            </tr>\n                        </#if>\n						</#if>\n\n                    </#list>\n                </tbody>\n            </table>\n        </div>\n    </div>',          'pc',          'onetomany',          null,          null,          null,          null,          null,          0,            '0',          '0',          '2',          '1',          '2020-6-28 11:47:20',          '1',          '2022-3-4 10:40:27',          null);
        
INSERT INTO form_template(ID_,NAME_,ALIAS_,TEMPLATE_,TYPE_,CATEGORY_,FILE_NAME_,PATH_,SINGLE_,GEN_MODE_,MAIN_SUB_TYPE_,DELETED_,COMPANY_ID_,TENANT_ID_,CREATE_DEP_ID_,CREATE_BY_,CREATE_TIME_,UPDATE_BY_,UPDATE_TIME_,APP_ID_)
        values(          '1277087373637304321',          '子表单列模版',          'subOneToOne',          '<table class=\"table-form two-column\" style=\"width:100%;\" id=\"${util.randomId()}\" type=\"onetoone\" ctltype=\"rx-table-onetoone\" tableid=\"${ent.id}\" tablename=\"${ent.alias}\">\n    <caption>\n        ${ent.name}\n    </caption>\n    <colgroup>\n            <col width=\"20%\"/>\n            <col width=\"80%\"/>\n    </colgroup>\n    <tbody>\n    <#list ent.boAttrList as field>\n    <tr <#if (field_index==0)>class=\"firstRow\"</#if>>\n        <td style=\"word-break: break-all;\">\n            ${field.comment}\n        </td>\n        <td>\n            <@fieldCtrl field=field type=''onetoone'' entName=ent.alias />\n        </td>\n    </tr>\n    </#list>\n    </tbody>\n</table>\n',          'pc',          'onetoone',          null,          null,          null,          null,          null,          0,            '0',          '0',          '2',          '1',          '2020-6-28 11:52:12',          '1',          '2020-12-11 17:51:11',          null);
        
INSERT INTO form_template(ID_,NAME_,ALIAS_,TEMPLATE_,TYPE_,CATEGORY_,FILE_NAME_,PATH_,SINGLE_,GEN_MODE_,MAIN_SUB_TYPE_,DELETED_,COMPANY_ID_,TENANT_ID_,CREATE_DEP_ID_,CREATE_BY_,CREATE_TIME_,UPDATE_BY_,UPDATE_TIME_,APP_ID_)
        values(          '1278256114231779329',          '字段控件模板',          'fieldCtrl',          '<#function getPre pre>\n\n\n\n 	<#assign rtn><#if pre==\"\">data.<#elseif pre=\"item_\">item.<#else>data.SUB_${pre}.</#if></#assign>\n\n\n\n	<#return rtn>\n\n\n\n</#function>\n\n\n\n<#macro getField attr pre>\n\n\n\n	<#switch attr.control>\n\n\n\n		<#default>\n\n\n\n		<#noparse>${util.render(</#noparse>${getPre(pre)}${attr.name}<#noparse>,''</#noparse>${attr.control}<#noparse>'')}</#noparse>\n\n\n\n	</#switch>\n\n\n\n</#macro>',          'print',          'field',          null,          null,          null,          null,          null,          0,            '0',          '0',          '',          '1',          '2020-7-1 17:16:21',          '1',          '2021-7-29 11:21:29',          null);
        
INSERT INTO form_template(ID_,NAME_,ALIAS_,TEMPLATE_,TYPE_,CATEGORY_,FILE_NAME_,PATH_,SINGLE_,GEN_MODE_,MAIN_SUB_TYPE_,DELETED_,COMPANY_ID_,TENANT_ID_,CREATE_DEP_ID_,CREATE_BY_,CREATE_TIME_,UPDATE_BY_,UPDATE_TIME_,APP_ID_)
        values(          '1278258262659145730',          '子表单列模版',          'subOneToOne',          '<table class=\"table-form two-column\" style=\"width:100%;\" id=\"${util.randomId()}\" type=\"onetoone\" ctltype=\"rx-table-onetoone\" tableid=\"${ent.id}\" tablename=\"${ent.alias}\">\n    <caption>\n        ${ent.name}\n    </caption>\n    <tbody>\n    <#list ent.boAttrList as field>\n    <tr <#if (field_index==0)>class=\"firstRow\"</#if>>\n        <td style=\"word-break: break-all;\">\n            ${field.comment}\n        </td>\n        <td>\n            <@getField attr=field pre=ent.name />\n        </td>\n    </tr>\n    </#list>\n    </tbody>\n</table>',          'print',          'onetoone',          null,          null,          null,          null,          null,          0,            '0',          '0',          '',          '1',          '2020-7-1 17:24:53',          '1',          '2020-7-1 17:38:37',          null);
        
INSERT INTO form_template(ID_,NAME_,ALIAS_,TEMPLATE_,TYPE_,CATEGORY_,FILE_NAME_,PATH_,SINGLE_,GEN_MODE_,MAIN_SUB_TYPE_,DELETED_,COMPANY_ID_,TENANT_ID_,CREATE_DEP_ID_,CREATE_BY_,CREATE_TIME_,UPDATE_BY_,UPDATE_TIME_,APP_ID_)
        values(          '1278258334415298562',          '子表双列模版',          'subOneToOneTwoColumn',          '<table class=\"table-form four-column\" style=\"width:100%;\" id=\"${util.randomId()}\" type=\"onetoone\" ctltype=\"rx-table-onetoone\" tableid=\"${ent.id}\" tablename=\"${ent.alias}\">\n    <caption>\n        ${ent.name}\n    </caption>\n    <tbody>\n    <#list ent.boAttrList as field>\n        <#if (field_index % 2==0)>\n            <tr <#if (field_index==0)>class=\"firstRow\"</#if>>\n        </#if>\n        <td style=\"word-break: break-all;\">\n            ${field.comment}\n        </td>\n        <td>\n            <@getField attr=field pre=ent.name />\n        </td>\n\n        <#if field_index % 2 == 0 && !field_has_next>\n            <td></td>\n            <td></td>\n        </#if>\n        <#if field_index % 2 == 1 || !field_has_next>\n            </tr>\n        </#if>\n    </#list>\n    </tbody>\n</table>',          'print',          'onetoone',          null,          null,          null,          null,          null,          0,            '0',          '0',          '',          '1',          '2020-7-1 17:25:10',          '1',          '2020-7-1 17:38:32',          null);
        
INSERT INTO form_template(ID_,NAME_,ALIAS_,TEMPLATE_,TYPE_,CATEGORY_,FILE_NAME_,PATH_,SINGLE_,GEN_MODE_,MAIN_SUB_TYPE_,DELETED_,COMPANY_ID_,TENANT_ID_,CREATE_DEP_ID_,CREATE_BY_,CREATE_TIME_,UPDATE_BY_,UPDATE_TIME_,APP_ID_)
        values(          '1278258401062789122',          '主表双列模版',          'twoColumn',          '<#setting number_format=\"#\">\n<table class=\"table-form four-column\" style=\"width:100%;\">\n    <caption>\n        ${ent.name}\n    </caption>\n    <tbody>\n    <#list ent.boAttrList as field>\n        <#if (field_index % 2==0)>\n        <tr <#if (field_index==0)>class=\"firstRow\"</#if>>\n        </#if>\n            <td style=\"word-break: break-all;\">\n                <#if ent.isTenant==1>\n                     <#noparse>${label.</#noparse>${field.name}<#noparse>}</#noparse>\n                 <#else>\n                     ${field.comment}\n                </#if>\n\n            </td>\n            <td>\n                <@getField attr=field pre=\"\" />\n            </td>\n\n            <#if field_index % 2 == 0 && !field_has_next>\n                <td></td>\n                <td></td>\n            </#if>\n            <#if field_index % 2 == 1 || !field_has_next>\n                </tr>\n            </#if>\n    </#list>\n    </tbody>\n</table>',          'print',          'main',          null,          null,          null,          null,          null,          0,            '0',          '0',          '',          '1',          '2020-7-1 17:25:26',          '1',          '2022-5-5 15:18:03',          null);
        
INSERT INTO form_template(ID_,NAME_,ALIAS_,TEMPLATE_,TYPE_,CATEGORY_,FILE_NAME_,PATH_,SINGLE_,GEN_MODE_,MAIN_SUB_TYPE_,DELETED_,COMPANY_ID_,TENANT_ID_,CREATE_DEP_ID_,CREATE_BY_,CREATE_TIME_,UPDATE_BY_,UPDATE_TIME_,APP_ID_)
        values(          '1278258462500954113',          '主表单列模板',          'oneColumn',          '<#setting number_format=\"#\">\n<table class=\"table-form two-column\" style=\"width:100%;\">\n    <caption>\n        ${ent.name}\n    </caption>\n    <tbody>\n        <#list ent.boAttrList as field>\n        <tr <#if (field_index==0)>class=\"firstRow\"</#if>>\n            <td style=\"word-break: break-all;\">\n               <#if ent.isTenant==1>\n                     <#noparse>${label.</#noparse>${field.name}<#noparse>}</#noparse>\n                 <#else>\n                     ${field.comment}\n                </#if>\n            </td>\n            <td>\n                <@getField attr=field pre=\"\" />\n            </td>\n        </tr>\n        </#list>\n    </tbody>\n</table>',          'print',          'main',          null,          null,          null,          null,          null,          0,            '0',          '0',          '',          '1',          '2020-7-1 17:25:41',          '1',          '2022-5-5 15:28:33',          null);
        
INSERT INTO form_template(ID_,NAME_,ALIAS_,TEMPLATE_,TYPE_,CATEGORY_,FILE_NAME_,PATH_,SINGLE_,GEN_MODE_,MAIN_SUB_TYPE_,DELETED_,COMPANY_ID_,TENANT_ID_,CREATE_DEP_ID_,CREATE_BY_,CREATE_TIME_,UPDATE_BY_,UPDATE_TIME_,APP_ID_)
        values(          '1278260208514191361',          '子表行模式',          'dOneColumn',          '<#setting number_format=\"#\">\n<table class=\"table-form two-column\" style=\"width:100%;\" data-sort=\"sortDisabled\">\n    <tr class=\"firstRow\">\n        <td style=\"word-break: break-all;\" rowspan=\"1\" colspan=\"1\">\n            <div class=\"rx-table-body active\" ctltype=\"rx-table\" tableid=\"${ent.id}\" type=\"onetomany\"\n                 id=\"${util.randomId()}\" tablename=\"${ent.alias}\">\n                <div class=\"rx-table-box\">\n                    <table class=\"rx-table\">\n                        <col style=\"width: 60px;\"/>\n                         <#list ent.boAttrList as field>\n                         <col style=\"width: 160px;\"/>\n                         </#list>\n                        <thead>\n                        <tr class=\"firstRow\">\n                            <th>#</th>\n                            <#list ent.boAttrList as field>\n                                <th>\n                                    ${field.comment}\n                                </th>\n                            </#list>\n                        </tr>\n                        </thead>\n                        <tbody>\n                        <tr rx-list=\"sub__${ent.alias}\" :key=\"item.index_\" v-select=\"item\"\n                            :class=\"{active:item.selected}\">\n                            <td><#noparse>${item_index+1}</#noparse></td>\n                            <#list ent.boAttrList as field>\n                                <td>\n                                    <@getField attr=field pre=\"item_\"/>\n                                </td>\n                            </#list>\n                        </tr>\n                        </tbody>\n                    </table>\n                </div>\n            </div>\n        </td>\n    </tr>\n</table>',          'print',          'onetomany',          null,          null,          null,          null,          null,          0,            '0',          '0',          '',          '1',          '2020-7-1 17:32:37',          '1',          '2021-7-29 11:25:00',          null);
        
INSERT INTO form_template(ID_,NAME_,ALIAS_,TEMPLATE_,TYPE_,CATEGORY_,FILE_NAME_,PATH_,SINGLE_,GEN_MODE_,MAIN_SUB_TYPE_,DELETED_,COMPANY_ID_,TENANT_ID_,CREATE_DEP_ID_,CREATE_BY_,CREATE_TIME_,UPDATE_BY_,UPDATE_TIME_,APP_ID_)
        values(          '1471759491079692289',          '审批历史',          'approvalHistory',          '<table class=\"rx-table\">\n	<thead>\n		<tr class=\"firstRow\">\n		<th>创建时间</th>\n		<th>处理时间</th>\n		<th>停留时间</th>\n		<th>审批节点</th>\n		<th>操作人</th>\n		<th>类型</th>\n		<th>意见</th>\n		</tr>\n		</thead>\n		<tbody>\n		  <tr rx-list=\"history\" :key=\"item.index_\">\n		   <td>${item.createTime}</td> \n		   <td>${item.completeTime}</td>\n			<td>${item.duration}秒</td> \n			<td>${item.nodeName}</td> \n			<td>${item.createBy}</td> \n			<td>${item.checkStatus}</td> \n			<td>${item.remark}</td>\n		  </tr>\n		  </#list> \n	</tbody>\n </table>\n \n',          'print',          'field',          null,          null,          null,          null,          null,          0,            '0',          '1',          '1',          '1',          '2021-12-17 16:29:41',          '1',          '2021-12-17 17:54:59',          null);
        
INSERT INTO form_template(ID_,NAME_,ALIAS_,TEMPLATE_,TYPE_,CATEGORY_,FILE_NAME_,PATH_,SINGLE_,GEN_MODE_,MAIN_SUB_TYPE_,DELETED_,COMPANY_ID_,TENANT_ID_,CREATE_DEP_ID_,CREATE_BY_,CREATE_TIME_,UPDATE_BY_,UPDATE_TIME_,APP_ID_)
        values(          '1533697561588920321',          '代码生成_正向Apijs代码',          'codeGenApijsW',          '<#assign package=model.vars.package>\n<#assign class=model.vars.class>\n<#assign classVar=model.vars.classVar>\n<#assign developer=vars.developer>\n<#assign system=vars.system>\n<#assign name=model.name>\n<#assign domain=vars.domain>\nimport rxAjax from ''@/assets/js/ajax.js'';\n\n/*\n 概要说明:${name} api接口\n 开发人员:${developer}\n*/\nexport const ${class}Api = {};\n\n${class}Api.baseUrl= ''/api-${system}/${system}/${package}/${classVar}'';\n${class}Api.exportUrl= ${class}Api.baseUrl + ''/export'';\n\n//查询列表\n${class}Api.query=function (parameter) {\n  var url= ${class}Api.baseUrl + ''/query'';\n  return rxAjax.postJson(url,parameter).then (res => {\n    return res.result\n  })\n}\n\n\n/**\n * 获取表单数据\n * @param pkId\n * @returns {*}\n */\n${class}Api.getById =function(pkId) {\n    var url= ${class}Api.baseUrl + ''/getById?pkId='' + pkId;\n    return rxAjax.get(url);\n}\n\n/**\n * 保存表单数据\n * @param formdata\n * @returns {*}\n */\n${class}Api.saveData =function(formdata) {\n    var url= ${class}Api.baseUrl + ''/saveData'';\n    return rxAjax.postJson(url,formdata);\n}\n\n\n\n//删除数据\n${class}Api.del =function(parameter) {\n  var url= ${class}Api.baseUrl + ''/del'';\n  return rxAjax.postUrl(url,parameter);\n}\n\nexport  default ${class}Api;\n\n',          'codeGen',          'main',          '{classVar}.js',          'src/api/{system}/{package}',          'YES',          'genCode',          'mainSub',          0,            '0',          '1',          '1',          '1',          '2022-6-6 14:29:28',          null,          '2022-6-6 14:29:28',          null);
        
INSERT INTO form_template(ID_,NAME_,ALIAS_,TEMPLATE_,TYPE_,CATEGORY_,FILE_NAME_,PATH_,SINGLE_,GEN_MODE_,MAIN_SUB_TYPE_,DELETED_,COMPANY_ID_,TENANT_ID_,CREATE_DEP_ID_,CREATE_BY_,CREATE_TIME_,UPDATE_BY_,UPDATE_TIME_,APP_ID_)
        values(          '1533697732414533634',          '代码生成_正向Data.js_编辑JS',          'codeGenDatajsW',          'export default {\n    data(){\n        return {\n            //表单数据\n            data:${vueJs.data},\n            //从表单数据\n            initData:${vueJs.initData},\n            //公式\n            formulas:${vueJs.formulas},\n            //校验函数\n            rules:${vueJs.rules},\n            //区域计算\n            calcAreas:${vueJs.calcAreas},\n            //校验规则\n            validRules:${vueJs.validRules},\n            //自定义查询\n            customquery:${vueJs.customquery},\n            //元数据\n            metadata:${vueJs.metadata},\n            listSearchType:\"${vueJs.listSearchType}\",\n            treeJson:${vueJs.treeJson},\n            boRelations:${boRelationsStr}\n        }\n    }\n}',          'codeGen',          'main',          '{class}Data.js',          'src/views/modules/{system}/{package}',          'YES',          'genCode',          'mainSub',          0,            '0',          '1',          '1',          '1',          '2022-6-6 14:30:09',          '1',          '2022-6-13 15:13:21',          null);
        
INSERT INTO form_template(ID_,NAME_,ALIAS_,TEMPLATE_,TYPE_,CATEGORY_,FILE_NAME_,PATH_,SINGLE_,GEN_MODE_,MAIN_SUB_TYPE_,DELETED_,COMPANY_ID_,TENANT_ID_,CREATE_DEP_ID_,CREATE_BY_,CREATE_TIME_,UPDATE_BY_,UPDATE_TIME_,APP_ID_)
        values(          '1533697966238593025',          '代码生成_正向实体转json映射',          'codeGenfileJsonW',          '${jsonFile}',          'codeGen',          'main',          '{classVar}.json',          'src/main/resources/entityJson/{package}',          'YES',          'genCode',          'mainSub',          0,            '0',          '1',          '1',          '1',          '2022-6-6 14:31:05',          null,          '2022-6-6 14:31:05',          null);
        
INSERT INTO form_template(ID_,NAME_,ALIAS_,TEMPLATE_,TYPE_,CATEGORY_,FILE_NAME_,PATH_,SINGLE_,GEN_MODE_,MAIN_SUB_TYPE_,DELETED_,COMPANY_ID_,TENANT_ID_,CREATE_DEP_ID_,CREATE_BY_,CREATE_TIME_,UPDATE_BY_,UPDATE_TIME_,APP_ID_)
        values(          '1533698110191300609',          '代码生成_正向Entity_实体层',          'codeGenEntityW',          '<#assign package=model.vars.package>\n<#assign class=model.vars.class>\n<#assign classVar=model.vars.classVar>\n<#assign comment=model.name>\n<#assign system=vars.system>\n<#assign domain=vars.domain>\n<#assign tableName=model.tableName>\n<#assign colList=model.boAttrList>\n<#assign idField=convertUnderLine(model.idField)>\n\n\n/**\n* [${model.name}]实体类定义\n* @author: ${vars.developer}\n* @company: ${vars.company}\n* @date: ${vars.date}\n*/\npackage ${domain}.${system}.${package}.entity;\n\nimport com.baomidou.mybatisplus.annotation.IdType;\nimport com.baomidou.mybatisplus.annotation.TableField;\nimport com.baomidou.mybatisplus.annotation.TableId;\nimport com.baomidou.mybatisplus.annotation.TableName;\nimport com.fasterxml.jackson.annotation.JsonCreator;\nimport com.redxun.common.base.entity.BaseExtEntity;\nimport com.redxun.gencode.codegenhander.SubTableDef;\nimport lombok.Getter;\nimport lombok.Setter;\nimport lombok.experimental.Accessors;\nimport java.util.ArrayList;\nimport java.util.List;\nimport org.apache.ibatis.type.JdbcType;\nimport java.util.Date;\n\n\n@Setter\n@Getter\n@Accessors(chain = true)\n@TableName(value = \"${tableName}\")\npublic class ${class}  extends BaseExtEntity<java.lang.String> {\n\n    @JsonCreator\n    public ${class}() {\n    }\n	\n	//主键\n    @TableId(value = \"${model.idField}\",type = IdType.INPUT)\n	private String ${idField};\n\n	@Override\n    public String getPkId() {\n        return this.${idField};\n    }\n\n    @Override\n    public void setPkId(String pkId) {\n        this.${idField}=pkId;\n    }\n\n	<#if model.genMode==\"form\" || model.genMode==\"create\">\n	//外键\n    @TableField(value = \"REF_ID_\",jdbcType=JdbcType.VARCHAR)\n    private String refId;\n\n    //父键\n    @TableField(value = \"PARENT_ID_\",jdbcType=JdbcType.VARCHAR)\n    private String parentId;\n	</#if>\n    <#list colList as col>\n	<#if col.control==\"rx-address\">\n	${addressFun(col)}\n	<#else>\n	//${col.comment}\n    @TableField(value = \"${col.fieldName}\",jdbcType=JdbcType.${getJdbcType(col)})\n    private ${getJavaType(col)} ${col.name};\n	\n	<#if col.isSingle==0>\n	${colNameFun(col)}\n	</#if>\n	</#if>\n    </#list>\n\n	\n	<#if model.boEntityList?size gt 0 >\n    <#list model.boEntityList as subEnt>\n    @TableField(exist=false)\n	@SubTableDef(tableName = \"${subEnt.vars.class}\",className = ${subEnt.vars.class}.class,type = \"onetomany\")\n	private List<${subEnt.vars.class}> ${subEnt.vars.classVar}List=new ArrayList<>();\n	</#list>	\n	</#if>\n \n}\n\n\n\n<#function colNameFun col>\n<#assign extJson=fileUtil.parseStrToJson(col.extJson)>\n<#assign rtn>\n	<#if model.genMode==\"form\" || model.genMode==\"create\">\n		//${col.comment}名称\n		@TableField(value = \"${col.fieldName}_NAME\",jdbcType=JdbcType.${getJdbcType(col)})\n		private ${getJavaType(col)} ${col.name}Name;\n	<#else>\n		<#assign colJson=fileUtil.getColByColList(model,extJson.ref,\"fieldName\")>\n		//${colJson.comment}名称\n		@TableField(value = \"${colJson.fieldName}\",jdbcType=JdbcType.${getJdbcType(colJson)})\n		private ${getJavaType(colJson)} ${colJson.name};\n	</#if>\n</#assign>\n<#return rtn?trim>\n</#function>\n\n\n<#function addressFun col>\n<#assign extJson=fileUtil.parseStrToJson(col.extJson)>\n<#assign setting=extJson.setting>\n<#assign rtn>\n	<#if model.genMode==\"form\" || model.genMode==\"create\">\n		//${col.comment}--省\n		@TableField(value = \"${col.fieldName}_PROVINCE\",jdbcType=JdbcType.${getJdbcType(col)})\n		private ${getJavaType(col)} ${col.name}Province;\n		\n		//${col.comment}--省code\n		@TableField(value = \"${col.fieldName}_P_CODE\",jdbcType=JdbcType.${getJdbcType(col)})\n		private ${getJavaType(col)} ${col.name}Pcode;\n		\n		<#if setting.isCity==\"true\">\n		//${col.comment}--市\n		@TableField(value = \"${col.fieldName}_CITY\",jdbcType=JdbcType.${getJdbcType(col)})\n		private ${getJavaType(col)} ${col.name}City;\n		\n		//${col.comment}--市Code\n		@TableField(value = \"${col.fieldName}_CITY_CODE\",jdbcType=JdbcType.${getJdbcType(col)})\n		private ${getJavaType(col)} ${col.name}CityCode;\n\n		</#if>\n		<#if setting.isCounty==\"true\">\n		\n		//${col.comment}--县(区)\n		@TableField(value = \"${col.fieldName}_COUNTY\",jdbcType=JdbcType.${getJdbcType(col)})\n		private ${getJavaType(col)} ${col.name}County;\n		\n		//${col.comment}--县(区)Code\n		@TableField(value = \"${col.fieldName}_COUNTY_CODE\",jdbcType=JdbcType.${getJdbcType(col)})\n		private ${getJavaType(col)} ${col.name}CountyCode;\n\n		</#if>\n		<#if setting.isAddress==\"true\">\n		\n		//${col.comment}--详细地址\n		@TableField(value = \"${col.fieldName}_ADDRESS\",jdbcType=JdbcType.${getJdbcType(col)})\n		private ${getJavaType(col)} ${col.name}Address;\n		</#if>\n	<#else>\n		<#assign provinceJson=fileUtil.getColByColList(model,extJson.province,\"name\")>\n		//${provinceJson.comment}--省\n		@TableField(value = \"${provinceJson.fieldName}\",jdbcType=JdbcType.${getJdbcType(provinceJson)})\n		private ${getJavaType(provinceJson)} ${provinceJson.name};\n		\n		//${col.comment}--省code\n		@TableField(value = \"${col.fieldName}\",jdbcType=JdbcType.${getJdbcType(col)})\n		private ${getJavaType(col)} ${col.name};\n		\n		<#if setting.isCity==\"true\">\n		\n			<#assign cityJson=fileUtil.getColByColList(model,extJson.city,\"name\")>\n			//${cityJson.comment}--市\n			@TableField(value = \"${cityJson.fieldName}\",jdbcType=JdbcType.${getJdbcType(cityJson)})\n			private ${getJavaType(cityJson)} ${cityJson.name};\n			\n			<#assign cityCodeJson=fileUtil.getColByColList(model,extJson.city_code,\"name\")>\n			//${cityCodeJson.comment}--市Code\n			@TableField(value = \"${cityCodeJson.fieldName}\",jdbcType=JdbcType.${getJdbcType(cityCodeJson)})\n			private ${getJavaType(cityCodeJson)} ${cityCodeJson.name};\n\n		</#if>\n		<#if setting.isCounty==\"true\">\n		\n			<#assign countyJson=fileUtil.getColByColList(model,extJson.county,\"name\")>\n			//${countyJson.comment}--县(区)\n			@TableField(value = \"${countyJson.fieldName}\",jdbcType=JdbcType.${getJdbcType(countyJson)})\n			private ${getJavaType(countyJson)} ${countyJson.name};\n			\n			<#assign countyCodeJson=fileUtil.getColByColList(model,extJson.county_code,\"name\")>\n			//${countyCodeJson.comment}--县(区)Code\n			@TableField(value = \"${countyCodeJson.fieldName}\",jdbcType=JdbcType.${getJdbcType(countyCodeJson)})\n			private ${getJavaType(countyCodeJson)} ${countyCodeJson.name};\n		</#if>\n		<#if setting.isAddress==\"true\">\n		<#assign addressJson=fileUtil.getColByColList(model,extJson.address,\"name\")>\n			//${addressJson.comment}--详细地址\n			@TableField(value = \"${addressJson.fieldName}\",jdbcType=JdbcType.${getJdbcType(addressJson)})\n			private ${getJavaType(addressJson)} ${addressJson.name};\n		</#if>\n	</#if>\n</#assign>\n<#return rtn?trim>\n</#function>\n\n\n<#function getJdbcType col>\n<#assign dbtype=col.dataType?lower_case>\n<#assign rtn>\n	<#if  dbtype==\"number\"  >\n		NUMERIC\n	<#elseif (dbtype==\"date\")>\n		DATE\n	<#else>\n		VARCHAR\n	</#if>\n</#assign>\n<#return rtn?trim>\n</#function>\n\n\n<#function getJavaType col>\n<#assign dbtype=col.dataType?lower_case>\n<#assign rtn>\n<#if  dbtype==\"number\"  >\n    <#if col.decimalLength==0>\n         <#if col.length gt 10 >\n            long\n         <#else>\n            int\n         </#if>\n    <#else>\n         double\n    </#if>\n<#elseif (dbtype==\"date\")>\n	Date\n<#else>\n	String\n</#if>\n</#assign>\n <#return rtn?trim>\n</#function>\n\n\n<#function convertUnderLine field>\n	<#if field?index_of(\"_\")==-1>\n		<#assign rtn>${field?lower_case?trim}</#assign>\n		<#return rtn>\n	</#if>\n\n	<#if field?index_of(\"F_\")==0>\n		<#assign rtn><#list (field?substring(2))?split(\"_\") as x><#if (x_index==0)><#if x?length==1>${x?upper_case?trim}<#else>${x?lower_case?trim}</#if><#else>${x?lower_case?cap_first?trim}</#if></#list></#assign>\n		<#return rtn>\n	</#if>\n\n	<#assign rtn><#list field?split(\"_\") as x><#if (x_index==0)><#if x?length==1>${x?upper_case?trim}<#else>${x?lower_case?trim}</#if><#else>${x?lower_case?cap_first?trim}</#if></#list></#assign>\n <#return rtn>\n</#function>\n\n',          'codeGen',          'main',          '{class}.java',          'src/main/java/com/{rootSystem}/{system}/{package}/entity',          'NO',          'genCode',          'mainSub',          0,            '0',          '1',          '1',          '1',          '2022-6-6 14:31:39',          '1',          '2022-6-29 18:11:14',          null);
        
INSERT INTO form_template(ID_,NAME_,ALIAS_,TEMPLATE_,TYPE_,CATEGORY_,FILE_NAME_,PATH_,SINGLE_,GEN_MODE_,MAIN_SUB_TYPE_,DELETED_,COMPANY_ID_,TENANT_ID_,CREATE_DEP_ID_,CREATE_BY_,CREATE_TIME_,UPDATE_BY_,UPDATE_TIME_,APP_ID_)
        values(          '1533698265154056194',          '代码生成_正向Mapper数据库访问类',          'codeGenMapperW',          '<#assign package=model.vars.package>\n<#assign class=model.vars.class>\n<#assign classVar=model.vars.classVar>\n<#assign mainSubClassVar=model.vars.mainSubClassVar>\n<#assign system=vars.system>\n<#assign domain=vars.domain>\n<#assign type=\"${domain}.\"+system+\".\"+ package +\".entity.\" +class>\n<#assign tableName=model.tableName>\n    \npackage ${domain}.${system}.${package}.mapper;\n\nimport ${domain}.${system}.${package}.entity.${class};\nimport org.apache.ibatis.annotations.Mapper;\nimport com.redxun.common.base.db.BaseDao;\n<#if (model.vars.isSub?? && model.vars.isSub==''YES'') || (model.vars.isSubMain?? && model.vars.isSubMain==''YES'')>\nimport org.apache.ibatis.annotations.Param;\nimport java.util.List;\n</#if>\n/**\n* [${model.name}]据库访问层\n* @author: ${vars.developer}\n* @company: ${vars.company}\n* @date: ${vars.date}\n*/\n@Mapper\npublic interface ${class}Mapper extends BaseDao<${class}> {\n<#if (model.vars.isSub?? && model.vars.isSub==''YES'') || (model.vars.isSubMain?? && model.vars.isSubMain==''YES'')>\n	<#if model.vars.isSubMain?? && model.vars.isSubMain==''NO''>\n	<#assign mainSubRelation=fileUtil.getRelation(boRelations,mainSubClassVar)>\n	<#assign subRelation=fileUtil.getRelation(mainSubRelation,classVar)>\n	List<${class}> getByRefId(@Param(\"${subRelation.fkFieldName}\") String ${subRelation.fkFieldName});\n	\n	void deleteByRefId(@Param(\"${subRelation.fkFieldName}\") String ${subRelation.fkFieldName});\n	<#else>\n	<#assign boRelation=fileUtil.getRelation(boRelations,classVar)>\n	List<${class}> getByRefId(@Param(\"${boRelation.fkFieldName}\") String ${boRelation.fkFieldName});\n	\n	void deleteByRefId(@Param(\"${boRelation.fkFieldName}\") String ${boRelation.fkFieldName});\n	</#if>\n	\n	\n</#if>\n}\n',          'codeGen',          'main',          '{class}Mapper.java',          'src/main/java/com/{rootSystem}/{system}/{package}/mapper',          'NO',          'genCode',          'mainSub',          0,            '0',          '1',          '1',          '1',          '2022-6-6 14:32:16',          '1',          '2022-6-29 18:08:49',          null);
        
INSERT INTO form_template(ID_,NAME_,ALIAS_,TEMPLATE_,TYPE_,CATEGORY_,FILE_NAME_,PATH_,SINGLE_,GEN_MODE_,MAIN_SUB_TYPE_,DELETED_,COMPANY_ID_,TENANT_ID_,CREATE_DEP_ID_,CREATE_BY_,CREATE_TIME_,UPDATE_BY_,UPDATE_TIME_,APP_ID_)
        values(          '1533698365993512961',          '代码生成_正向ServiceImpl服务层',          'codeGenServiceImpl',          '<#assign package=model.vars.package>\n<#assign class=model.vars.class>\n<#assign classVar=model.vars.classVar>\n<#assign mainSubClassVar=model.vars.mainSubClassVar>\n<#assign system=vars.system>\n<#assign domain=vars.domain>\n<#assign domain=vars.domain>\n\npackage ${domain}.${system}.${package}.service;\n\nimport com.baomidou.mybatisplus.core.conditions.query.QueryWrapper;\nimport com.redxun.common.base.db.BaseDao;\nimport com.redxun.common.base.db.BaseService;\nimport com.redxun.common.service.impl.SuperServiceImpl;\nimport com.redxun.common.tool.BeanUtil;\nimport com.redxun.common.tool.StringUtils;\nimport com.redxun.common.utils.ExceptionUtil;\nimport com.redxun.common.tool.IdGenerator;\nimport ${domain}.${system}.${package}.entity.${class};\nimport ${domain}.${system}.${package}.mapper.${class}Mapper;\n<#if model.boEntityList?size gt 0 >\n<#list model.boEntityList as subEnt>\nimport ${domain}.${system}.${package}.service.${subEnt.vars.class}ServiceImpl;\nimport ${domain}.${system}.${package}.mapper.${subEnt.vars.class}Mapper;\nimport ${domain}.${system}.${package}.entity.${subEnt.vars.class};\n</#list>\n</#if>\nimport lombok.extern.slf4j.Slf4j;\nimport org.springframework.stereotype.Service;\n\nimport javax.annotation.Resource;\nimport java.io.Serializable;\nimport java.util.Collection;\nimport java.util.List;\n\n/**\n* [${model.name}]业务服务类\n* @author: ${vars.developer}\n* @company: ${vars.company}\n* @date: ${vars.date}\n*/\n@Slf4j\n@Service\npublic class ${class}ServiceImpl extends SuperServiceImpl<${class}Mapper, ${class}> implements BaseService<${class}> {\n\n    @Resource\n    private ${class}Mapper ${classVar}Mapper;\n    \n    <#if model.boEntityList?size gt 0 >\n    <#list model.boEntityList as subEnt>\n    @Resource\n    private ${subEnt.vars.class}ServiceImpl ${subEnt.vars.classVar}Service;\n	@Resource\n    private ${subEnt.vars.class}Mapper ${subEnt.vars.classVar}Mapper;\n    </#list>\n    </#if>\n   \n    @Override\n    public BaseDao<${class}> getRepository() {\n        return ${classVar}Mapper;\n    }\n	\n	<#if (model.vars.isSub?? && model.vars.isSub==''YES'') || (model.vars.isSubMain?? && model.vars.isSubMain==''YES'')>\n	public void saveOrUpdateAll(List<${class}> subList, String pkId){\n		${classVar}Mapper.deleteByRefId(pkId);\n        if(BeanUtil.isEmpty(subList)){\n            return;\n        }\n        for (${class} sub:subList) {\n		<#if (model.vars.isSub?? && model.vars.isSub==''YES'') || (model.vars.isSubMain?? && model.vars.isSubMain==''YES'')>\n			<#if model.vars.isSubMain?? && model.vars.isSubMain==''NO''>\n			<#assign mainSubRelation=fileUtil.getRelation(boRelations,mainSubClassVar)>\n			<#assign subRelation=fileUtil.getRelation(mainSubRelation,classVar)>\n			sub.set${subRelation.fkFieldFun}(pkId);\n			<#else>\n			<#assign boRelation=fileUtil.getRelation(boRelations,classVar)>\n			sub.set${boRelation.fkFieldFun}(pkId);\n			</#if>\n		</#if>\n\n			if(StringUtils.isEmpty(sub.getPkId())){\n                sub.setPkId(IdGenerator.getIdStr());\n            }\n        }\n        try {\n            this.saveOrUpdateBatch(subList);\n        }catch (Exception e){\n            log.error(\"saveOrUpdateAll is error: messgae={}\", ExceptionUtil.getExceptionMessage(e));\n        }\n    }\n	</#if>\n\n		\n	<#if model.boEntityList?size gt 0 >\n	@Override\n    public void delete(Collection<Serializable> entities) {\n\n        for(Serializable id:entities){\n            //根据ID删除${model.name}\n            ${classVar}Mapper.deleteById(id);\n            <#list model.boEntityList as subEnt>\n            //根据ID删除${subEnt.name}    \n    		QueryWrapper ${subEnt.vars.classVar}Wrapper=new QueryWrapper();\n            ${subEnt.vars.classVar}Wrapper.eq(\"${subEnt.boRelation.fkField}\",id);\n            ${subEnt.vars.classVar}Mapper.delete(${subEnt.vars.classVar}Wrapper);\n    		</#list>\n        }\n    }\n	\n	/**\n     * 根据主键获取表单数据\n     * @param pk\n     * @return\n     */\n    @Override\n    public ${class} get(Serializable pk){\n        ${class} ${classVar}=this.getById(pk);\n        if(BeanUtil.isEmpty(${classVar})){\n            return new ${class}();\n        }\n		<#list model.boEntityList as subEnt>\n		List<${subEnt.vars.class}> ${subEnt.vars.classVar}List =${subEnt.vars.classVar}Mapper.getByRefId((String)pk);\n        ${classVar}.set${subEnt.vars.class}List(${subEnt.vars.classVar}List);\n		</#list>\n        return ${classVar};\n    }\n\n    @Override\n    public int insert(${class} entity) {\n        String pkId = entity.getPkId();\n        if(BeanUtil.isEmpty(pkId)) {\n            pkId=IdGenerator.getIdStr();\n            entity.setPkId(pkId);\n        }\n        int insert = getRepository().insert(entity);\n		<#list model.boEntityList as subEnt>\n		${subEnt.vars.classVar}Service.saveOrUpdateAll(entity.get${subEnt.vars.class}List(),pkId);\n		</#list>\n        return insert;\n    }\n\n    @Override\n    public int update(${class} entity) {\n        int insert =  getRepository().updateById(entity);\n		<#list model.boEntityList as subEnt>\n		${subEnt.vars.classVar}Service.saveOrUpdateAll(entity.get${subEnt.vars.class}List(),entity.getPkId());\n		</#list>\n        return insert;\n    }\n    </#if>\n	\n}\n',          'codeGen',          'main',          '{class}ServiceImpl.java',          'src/main/java/com/{rootSystem}/{system}/{package}/service',          'NO',          'genCode',          'mainSub',          0,            '0',          '1',          '1',          '1',          '2022-6-6 14:32:40',          '1',          '2022-6-29 18:08:41',          null);
        
INSERT INTO form_template(ID_,NAME_,ALIAS_,TEMPLATE_,TYPE_,CATEGORY_,FILE_NAME_,PATH_,SINGLE_,GEN_MODE_,MAIN_SUB_TYPE_,DELETED_,COMPANY_ID_,TENANT_ID_,CREATE_DEP_ID_,CREATE_BY_,CREATE_TIME_,UPDATE_BY_,UPDATE_TIME_,APP_ID_)
        values(          '1533698526207537154',          '代码生成_正向Controller控制层',          'codeGenControllerW',          '<#assign package=model.vars.package>\n<#assign class=model.vars.class>\n<#assign classVar=model.vars.classVar>\n<#assign entAlias=model.vars.entAlias>\n<#assign comment=model.name>\n<#assign system=vars.system>\n<#assign domain=vars.domain>\n<#assign tableName=model.tableName>\n<#assign colList=model.boAttrList>\n\npackage ${domain}.${system}.${package}.controller;\n\nimport com.redxun.common.base.db.BaseService;\nimport com.redxun.gencode.controller.CodeGenBaseController;\nimport ${domain}.${system}.${package}.entity.${class};\nimport ${domain}.${system}.${package}.service.${class}ServiceImpl;\nimport io.swagger.annotations.Api;\nimport lombok.extern.slf4j.Slf4j;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.web.bind.annotation.*;\nimport com.redxun.common.annotation.ClassDefine;\nimport com.redxun.gencode.codegenhander.ClassCodeDef;\n\n\n/**\n* [${model.name}] 控制器代码\n* @author: ${vars.developer}\n* @company: ${vars.company}\n* @date: ${vars.date}\n*/\n@Slf4j\n@RestController\n@RequestMapping(\"/${system}/${package}/${classVar}\")\n@Api(tags = \"${comment}\")\n@ClassDefine(title = \"${comment}\",alias = \"${class}Controller\",path = \"/${system}/${package}/${classVar}\",packages = \"${package}\",packageName = \"子系统名称\")\n@ClassCodeDef(alias = \"${classVar}\",classPackage=\"${package}\",createType=\"${model.genMode}\")\npublic class ${class}Controller extends CodeGenBaseController<${class}> {\n\n	@Autowired\n	${class}ServiceImpl ${classVar}Service;\n\n	@Override\n	public BaseService getBaseService() {\n		return ${classVar}Service;\n	}\n\n	@Override\n	public String getComment() {\n		return \"${comment}\";\n	}\n\n	@Override\n	public ${class} getBaseEntity(){\n		return new ${class}();\n	}\n\n}',          'codeGen',          'main',          '{class}Controller.java',          'src/main/java/com/{rootSystem}/{system}/{package}/controller',          'NO',          'genCode',          'mainSub',          0,            '0',          '1',          '1',          '1',          '2022-6-6 14:33:18',          '1',          '2022-7-7 18:26:27',          null);
        
INSERT INTO form_template(ID_,NAME_,ALIAS_,TEMPLATE_,TYPE_,CATEGORY_,FILE_NAME_,PATH_,SINGLE_,GEN_MODE_,MAIN_SUB_TYPE_,DELETED_,COMPANY_ID_,TENANT_ID_,CREATE_DEP_ID_,CREATE_BY_,CREATE_TIME_,UPDATE_BY_,UPDATE_TIME_,APP_ID_)
        values(          '1533698647930433538',          '代码生成_正向Mapping文件',          'codeGenMappingW',          '<#assign package=model.vars.package>\n<#assign class=model.vars.class>\n<#assign classVar=model.vars.classVar>\n<#assign mainSubClassVar=model.vars.mainSubClassVar>\n<#assign system=vars.system>\n<#assign domain=vars.domain>\n<#assign type=\"${domain}.\"+system+\".\"+ package +\".entity.\" +class>\n<#assign tableName=model.tableName>\n<#assign colList=model.boAttrList>\n<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<!DOCTYPE mapper PUBLIC \"-//mybatis.org//DTD Mapper 3.0//EN\" \"http://mybatis.org/dtd/mybatis-3-mapper.dtd\">\n<mapper namespace=\"${domain}.${system}.${package}.mapper.${class}Mapper\">\n\n    <resultMap id=\"${class}\" type=\"${type}\">\n            <#assign idField=convertUnderLine(model.idField)>\n            <id property=\"${idField}\" column=\"${model.idField}\" jdbcType=\"VARCHAR\"/>\n		        <#list colList as col>\n				${columnFun(col model.genMode)}\n		        </#list>\n		      <#if model.genMode==\"form\" || model.genMode==\"create\" >\n			  <result property=\"refId\" column=\"REF_ID_\" jdbcType=\"VARCHAR\"/>\n			  <result property=\"parentId\" column=\"PARENT_ID_\" jdbcType=\"VARCHAR\"/>\n		      <result property=\"tenantId\" column=\"TENANT_ID_\" jdbcType=\"VARCHAR\"/>\n		      <result property=\"createBy\" column=\"CREATE_BY_\" jdbcType=\"VARCHAR\"/>\n		      <result property=\"createTime\" column=\"CREATE_TIME_\" jdbcType=\"DATE\"/>\n		      <result property=\"updateBy\" column=\"UPDATE_BY_\" jdbcType=\"VARCHAR\"/>\n		      <result property=\"updateTime\" column=\"UPDATE_TIME_\" jdbcType=\"DATE\"/>\n		      <result property=\"createDepId\" column=\"CREATE_DEP_ID_\" jdbcType=\"VARCHAR\"/>\n		      </#if>\n    </resultMap>\n\n\n    <select id=\"query\" resultType=\"${type}\" parameterType=\"java.util.Map\">\n        select ${model.idField},<#list colList as col>${selectColumnFun(col model.genMode)}<#if col_has_next>,</#if></#list><#if model.genMode==\"form\" || model.genMode==\"create\" >,REF_ID_,PARENT_ID_,TENANT_ID_,CREATE_BY_,CREATE_TIME_,UPDATE_BY_,UPDATE_TIME_,CREATE_DEP_ID_</#if> from ${tableName}\n        <#noparse>\n        <where>\n            <if test=\"@rx.Ognl@isNotEmpty(w.whereSql)\">\n                ${w.whereSql}\n            </if>\n        </where>\n        <if test=\"@rx.Ognl@isNotEmpty(w.orderBySql)\">\n            ORDER BY ${w.orderBySql}\n        </if>\n        <if test=\"@rx.Ognl@isEmpty(w.orderBySql)\"></#noparse>\n            ORDER BY  ${model.idField} DESC\n        </if>\n    </select>\n	\n<#if (model.vars.isSub?? && model.vars.isSub==''YES'') || (model.vars.isSubMain?? && model.vars.isSubMain==''YES'')>\n	<#if model.vars.isSubMain?? && model.vars.isSubMain==''NO''>\n	<#assign mainSubRelation=fileUtil.getRelation(boRelations,mainSubClassVar)>\n	<#assign subRelation=fileUtil.getRelation(mainSubRelation,classVar)>\n	<select id=\"getByRefId\" resultType=\"${type}\" parameterType=\"java.util.Map\">\n		select * from ${tableName} where ${subRelation.fkField}=${r\"#\"}{${subRelation.fkFieldName}}\n	</select>\n	\n	<delete id=\"deleteByRefId\" parameterType=\"java.lang.String\" >\n	DELETE FROM ${tableName} WHERE ${subRelation.fkField}=${r\"#\"}{${subRelation.fkFieldName}}\n	</delete>\n	<#else>\n	<#assign boRelation=fileUtil.getRelation(boRelations,classVar)>\n	<select id=\"getByRefId\" resultType=\"${type}\" parameterType=\"java.util.Map\">\n		select * from ${tableName} where ${boRelation.fkField}=${r\"#\"}{${boRelation.fkFieldName}}\n	</select>\n	\n	<delete id=\"deleteByRefId\" parameterType=\"java.lang.String\" >\n	DELETE FROM ${tableName} WHERE ${boRelation.fkField}=${r\"#\"}{${boRelation.fkFieldName}}\n	</delete>\n	</#if>\n</#if>\n	\n\n</mapper>\n\n\n<#function selectColumnFun col genMode>\n<#assign name=col.fieldName>\n<#assign rtn>\n	<#if genMode==\"form\" || model.genMode==\"create\" >\n		<#if col.control==\"rx-address\">\n			<#assign extJson=fileUtil.parseAddressFromExtJson(col.extJson)>\n			${name}_PROVINCE,${name}_P_CODE\n			<#if extJson.isCity==\"true\">\n			,${name}_CITY,${name}_CITY_CODE\n			</#if>\n			<#if extJson.isCounty==\"true\">\n			,${name}_COUNTY,${name}_COUNTY_CODE\n			</#if>\n			<#if extJson.isAddress==\"true\">\n			,${name}_ADDRESS\n			</#if>\n		<#elseif col.isSingle==0>\n			${name}_NAME,${name}\n		<#else>\n			${name}\n		</#if>\n	<#else>\n		<#assign extJson=fileUtil.parseStrToJson(col.extJson)>\n		<#if col.control==\"rx-address\">\n			<#assign setting=extJson.setting>\n			\n			<#assign provinceJson=fileUtil.getColByColList(model,extJson.province,\"name\")>\n			${provinceJson.fieldName},${name}\n			<#if setting.isCity==\"true\">\n				<#assign cityJson=fileUtil.getColByColList(model,extJson.city,\"name\")>\n				,${cityJson.fieldName}\n				<#assign cityCodeJson=fileUtil.getColByColList(model,extJson.city_code,\"name\")>\n				,${cityCodeJson.fieldName}\n			</#if>\n			<#if setting.isCounty==\"true\">\n				<#assign countyJson=fileUtil.getColByColList(model,extJson.county,\"name\")>\n				,${countyJson.fieldName}\n				<#assign countyCodeJson=fileUtil.getColByColList(model,extJson.county_code,\"name\")>\n				,${countyCodeJson.fieldName}\n			</#if>\n			<#if setting.isAddress==\"true\">\n				<#assign addressJson=fileUtil.getColByColList(model,extJson.address,\"name\")>\n				,${addressJson.fieldName}\n			</#if>\n		<#elseif col.isSingle==0>\n			<#assign colJson=fileUtil.getColByColList(model,extJson.ref,\"fieldName\")>\n			${name},${colJson.fieldName}\n		<#else>\n			${name}\n		</#if>\n	</#if>\n</#assign>\n<#return rtn?trim>\n</#function>\n\n\n<#function columnFun col genMode>\n<#assign colName=convertUnderLine(col.fieldName)>\n<#assign rtn>\n	<#if genMode==\"form\" || model.genMode==\"create\" >\n		<#if col.control==\"rx-address\">\n			<#assign extJson=fileUtil.parseStrToJson(col.extJson)>\n			<#assign setting=extJson.setting>\n			<result property=\"${colName}Province\" column=\"${col.fieldName}_PROVINCE\" jdbcType=\"${getJdbcType(col)}\"/>\n			<result property=\"${colName}Pcode\" column=\"${col.fieldName}_P_CODE\" jdbcType=\"${getJdbcType(col)}\"/>\n			<#if setting.isCity==\"true\">\n				<result property=\"${colName}City\" column=\"${col.fieldName}_CITY\" jdbcType=\"${getJdbcType(col)}\"/>\n				<result property=\"${colName}CityCode\" column=\"${col.fieldName}_CITY_CODE\" jdbcType=\"${getJdbcType(col)}\"/>\n			</#if>\n			<#if setting.isCounty==\"true\">\n				<result property=\"${colName}County\" column=\"${col.fieldName}_COUNTY\" jdbcType=\"${getJdbcType(col)}\"/>\n				<result property=\"${colName}CountyCode\" column=\"${col.fieldName}_COUNTY_CODE\" jdbcType=\"${getJdbcType(col)}\"/>\n			</#if>\n			<#if setting.isAddress==\"true\">\n				<result property=\"${colName}Address\" column=\"${col.fieldName}_ADDRESS\" jdbcType=\"${getJdbcType(col)}\"/>\n			</#if>\n		<#elseif col.isSingle==0>\n			<result property=\"${colName}\" column=\"${col.fieldName}\" jdbcType=\"${getJdbcType(col)}\"/>\n			<result property=\"${colName}Name\" column=\"${col.fieldName}_NAME\" jdbcType=\"${getJdbcType(col)}\"/>\n		<#else>\n			<result property=\"${colName}\" column=\"${col.fieldName}\" jdbcType=\"${getJdbcType(col)}\"/>\n		</#if>\n	<#else>\n		<#assign extJson=fileUtil.parseStrToJson(col.extJson)>\n		<#if col.control==\"rx-address\">\n			<#assign setting=extJson.setting>\n\n			<#assign provinceJson=fileUtil.getColByColList(model,extJson.province,\"name\")>\n			<result property=\"${convertUnderLine(provinceJson.fieldName)}\" column=\"${provinceJson.fieldName}\" jdbcType=\"${getJdbcType(provinceJson)}\"/>\n			<result property=\"${colName}\" column=\"${col.fieldName}\" jdbcType=\"${getJdbcType(col)}\"/>\n			<#if setting.isCity==\"true\">\n				<#assign cityJson=fileUtil.getColByColList(model,extJson.city,\"name\")>\n				<result property=\"${convertUnderLine(cityJson.fieldName)}\" column=\"${cityJson.fieldName}\" jdbcType=\"${getJdbcType(cityJson)}\"/>\n				<#assign cityCodeJson=fileUtil.getColByColList(model,extJson.city_code,\"name\")>\n				<result property=\"${convertUnderLine(cityCodeJson.fieldName)}\" column=\"${cityCodeJson.fieldName}\" jdbcType=\"${getJdbcType(cityCodeJson)}\"/>\n			</#if>\n			<#if setting.isCounty==\"true\">\n				<#assign countyJson=fileUtil.getColByColList(model,extJson.county,\"name\")>\n				<result property=\"${convertUnderLine(countyJson.fieldName)}\" column=\"${countyJson.fieldName}\" jdbcType=\"${getJdbcType(countyJson)}\"/>\n				<#assign countyCodeJson=fileUtil.getColByColList(model,extJson.county_code,\"name\")>\n				<result property=\"${convertUnderLine(countyCodeJson.fieldName)}\" column=\"${countyCodeJson.fieldName}\" jdbcType=\"${getJdbcType(countyCodeJson)}\"/>\n			</#if>\n			<#if setting.isAddress==\"true\">\n				<#assign addressJson=fileUtil.getColByColList(model,extJson.address,\"name\")>\n				<result property=\"${convertUnderLine(addressJson.fieldName)}\" column=\"${addressJson.fieldName}\" jdbcType=\"${getJdbcType(addressJson)}\"/>\n			</#if>\n		<#elseif col.isSingle==0>\n			<result property=\"${colName}\" column=\"${col.fieldName}\" jdbcType=\"${getJdbcType(col)}\"/>\n			<#assign colJson=fileUtil.getColByColList(model,extJson.ref,\"fieldName\")>\n			<result property=\"${convertUnderLine(colJson.fieldName)}\" column=\"${colJson.fieldName}\" jdbcType=\"${getJdbcType(colJson)}\"/>\n		<#else>\n			<result property=\"${colName}\" column=\"${col.fieldName}\" jdbcType=\"${getJdbcType(col)}\"/>\n		</#if>\n	</#if>\n</#assign>\n<#return rtn?trim>\n</#function>\n\n\n<#function getJdbcType col>\n<#assign dbtype=col.dataType?lower_case>\n<#assign rtn>\n	<#if  dbtype==\"number\"  >\n		NUMERIC\n	<#elseif (dbtype==\"date\")>\n		DATE\n	<#else>\n		VARCHAR\n	</#if>\n</#assign>\n<#return rtn?trim>\n</#function>\n\n\n<#function convertUnderLine field>\n	<#if field?index_of(\"_\")==-1>\n		<#assign rtn>${field?lower_case?trim}</#assign>\n		<#return rtn>\n	</#if>\n\n	<#if field?index_of(\"F_\")==0>\n		<#assign rtn><#list (field?substring(2))?split(\"_\") as x><#if (x_index==0)><#if x?length==1>${x?upper_case?trim}<#else>${x?lower_case?trim}</#if><#else>${x?lower_case?cap_first?trim}</#if></#list></#assign>\n		<#return rtn>\n	</#if>\n\n	<#assign rtn><#list field?split(\"_\") as x><#if (x_index==0)><#if x?length==1>${x?upper_case?trim}<#else>${x?lower_case?trim}</#if><#else>${x?lower_case?cap_first?trim}</#if></#list></#assign>\n <#return rtn>\n</#function>\n\n',          'codeGen',          'main',          '{class}Mapper.xml',          'src/main/resources/mapper/{rootSystem}/{system}/{package}',          'NO',          'genCode',          'mainSub',          0,            '0',          '1',          '1',          '1',          '2022-6-6 14:33:47',          '1',          '2022-6-30 10:27:04',          null);
        
INSERT INTO form_template(ID_,NAME_,ALIAS_,TEMPLATE_,TYPE_,CATEGORY_,FILE_NAME_,PATH_,SINGLE_,GEN_MODE_,MAIN_SUB_TYPE_,DELETED_,COMPANY_ID_,TENANT_ID_,CREATE_DEP_ID_,CREATE_BY_,CREATE_TIME_,UPDATE_BY_,UPDATE_TIME_,APP_ID_)
        values(          '1533698815715176450',          '代码生成_正向列表页面',          'codeGenListVueW',          '<#assign package=model.vars.package>\n<#assign class=model.vars.class>\n<#assign classVar=model.vars.classVar>\n<#assign comment=model.name>\n<#assign pk=model.idField>\n<#assign system=vars.system>\n<#assign domain=vars.domain>\n<#assign commonList=model.boAttrList>\n<#assign searchFields=settingJson.mainEntity.searchFields>\n\n<template>\n  <rx-layout>\n	${leftSearchTreeFun()}\n    <div slot=\"center\" style>\n      <rx-fit>\n        <div slot=\"toolheader\" foldheader=\"true\" foldbtn=\"false\" border=\"false\">\n          <div class=\"table-operator\">\n            <rx-button alias=\"${classVar}Add\" :butn-icon=\"''plus''\" :butn-type=\"''primary''\" :show-no-right=\"true\" @click=\"add\">新建</rx-button>\n            <a-dropdown v-if=\"editEnable && selectedRowKeys.length > 0 || removeEnable && selectedRowKeys.length > 0\">\n              <a-button style=\"margin-left: 8px\"> 更多 <a-icon type=\"down\" /> </a-button>\n              <a-menu slot=\"overlay\">\n                <a-menu-item key=\"1\" v-if=\"editEnable && selectedRowKeys.length > 0\" alias=\"${classVar}Edit\" :butn-icon=\"''edit''\"\n                             :butn-type=\"''primary''\" :show-no-right=\"false\" @click=\"editOne\"><a-icon type=\"edit\"  />编辑</a-menu-item>\n                <a-menu-item key=\"2\" v-if=\"removeEnable && selectedRowKeys.length > 0\" alias=\"${classVar}Delete\" :butn-icon=\"''delete''\" :butn-type=\"''danger''\"\n                             :show-no-right=\"false\" @click=\"delByIds(selectedRowKeys)\"><a-icon type=\"delete\" />删除</a-menu-item>\n              </a-menu>\n            </a-dropdown>\n          </div>\n          <span class=\"search-btn-box\">\n                <span class=\"search-btn\" @click=\"searchshow\"><i class=\"iconfont iconguolv\"></i>过滤</span>\n           </span>\n        </div>\n        <div slot=\"searchbar\" btnalign=\"right\"  v-if=\"fitSearch\" @search=\"search\" @cancel=\"cancel\" @close=\"close\">\n          <a-form layout=\"vertical\">\n            <#list searchFields as search>\n            <a-form-item label=\"${search.fieldLabel}\">\n				<#if (!search.fc?? || search.fc==''textbox'')>\n					<a-input <#if search.emptytext??>placeholder=\"${search.emptytext}\"</#if>\n							 v-model.trim=\"queryParam[''<#if search.autoFilter==''YES''>Q_<#if search.tablePre?? && search.tablePre!=\"\">${search.tablePre}.</#if>${search.fieldName}_S_${search.fieldOp}<#else>${search.fieldName}</#if>'']\"/>\n				<#elseif (search.fc==''datepicker'')>\n					<#if search.format??>\n						<#assign searchDateFormat=search.format>\n					<#else>\n						<#assign searchDateFormat=''YYYY-MM-DD''>\n					</#if>\n					<a-date-picker <#if search.emptytext??>placeholder=\"${search.emptytext}\"</#if>\n								   v-model=\"queryParam[''queryField_${search.fieldName}'']\"\n								   format=\"${searchDateFormat}\"\n							<#if searchDateFormat==''YYYY-MM-DD HH:mm:ss''>\n								show-time\n							</#if>\n								   @change=\"searchDateChange($event,$event,{queryField:''<#if search.autoFilter==''YES''>Q_<#if search.tablePre?? && search.tablePre!=\"\">${search.tablePre}.</#if>${search.fieldName}_D_${search.fieldOp}<#else>${search.fieldName}</#if>'',format:''${searchDateFormat}''})\"/>\n				<#elseif (search.fc==''month'')>\n					<a-month-picker  v-model=\"queryParam[''queryField_${search.fieldName}'']\" <#if search.emptytext??>placeholder=\"${search.emptytext}\"</#if>  @change=\"searchMonthChange($event,$event,{queryField:''<#if search.tablePre?? && search.tablePre!=\"\">${search.tablePre}.</#if>${search.fieldName}''<#if search.format??>,format:''${search.format}''</#if>,autoFilter:''${search.autoFilter}''})\" />\n				<#elseif (search.fc==''rangepicker'')>\n					<#if search.format??>\n						<#assign searchRangeFormat=search.format>\n					<#else>\n						<#assign searchRangeFormat=''YYYY-MM-DD HH:mm:ss''>\n					</#if>\n					<a-range-picker  ref=\"queryField_${search.fieldName}\"  v-model=\"params[''queryField_${search.fieldName}'']\" <#if search.emptytext??>placeholder=\"${search.emptytext}\"</#if> show-time format=\"${searchRangeFormat}\"  @change=\"searchRangeDateChange($event,''${searchRangeFormat}'',{queryField:''<#if search.tablePre?? && search.tablePre!=\"\">${search.tablePre}.</#if>${search.fieldName}'',autoFilter:''${search.autoFilter}''})\" />\n				<#elseif (search.fc==''select'')>\n					<rx-select ref=\"Q_<#if search.tablePre?? && search.tablePre!=\"\">${search.tablePre}_</#if>${search.fieldName}_S_${search.fieldOp}\" v-model=\"queryParam[''<#if search.autoFilter==''YES''>Q_<#if search.tablePre?? && search.tablePre!=\"\">${search.tablePre}.</#if>${search.fieldName}_S_${search.fieldOp}<#else>${search.fieldName}</#if>'']\"\n							   :multiValue=\"true\" :labelInValue=\"false\" :multiSelect=\"<#if search.multiSelect??>${search.multiSelect?c}<#else>false</#if>\"\n							   <#if (!search.from?? || search.from==''self'')>:dataSource=\"selectOptions${search_index}\" value-field=\"key\" text-field=\"name\"\n							   <#elseif (search.from==''url'')>url=\"${search.url}\" value-field=\"${search.url_valuefield}\" text-field=\"${search.url_textfield}\"\n							   <#elseif (search.from==''dic'')>url=\"/api-system/system/core/sysDic/treeByKey?key=${search.dicKey}\" value-field=\"value\" text-field=\"name\"\n							   <#elseif (search.from==''sql'')>url=\"/api-form/form/core/formCustomQuery/queryForJson_${search.sql}\" data-field=\"data\" value-field=\"${search.sql_valuefield}\" text-field=\"${search.sql_textfield}\"\n							   @focus=\"selectFocus(''Q_<#if search.tablePre?? && search.tablePre!=\"\">${search.tablePre}_</#if>${search.fieldName}_S_${search.fieldOp}'',selectParams${search_index})\" :loadDataOnstart=\"true\"\n							   @onChange=\"searchChange(''${search.fieldName}'',''Q_<#if search.tablePre?? && search.tablePre!=\"\">${search.tablePre}_</#if>${search.fieldName}_S_${search.fieldOp}'')\" ajaxType=\"post\"\n							   <#elseif (search.from==''grant'')>url=\"/api-form/form/core/formEntityDataSetting/queryData_${search.grant}\" data-field=\"data\"\n							   @focus=\"selectFocus(''Q_<#if search.tablePre?? && search.tablePre!=\"\">${search.tablePre}_</#if>${search.fieldName}_S_${search.fieldOp}'')\" :loadDataOnstart=\"true\"\n							</#if>/>\n				<#elseif (search.fc==''treeselect'')>\n					<rx-tree-select-ctl ref=\"Q_<#if search.tablePre?? && search.tablePre!=\"\">${search.tablePre}_</#if>${search.fieldName}_S_${search.fieldOp}\" v-model=\"queryParam[''<#if search.autoFilter==''YES''>Q_<#if search.tablePre?? && search.tablePre!=\"\">${search.tablePre}.</#if>${search.fieldName}_S_${search.fieldOp}<#else>${search.fieldName}</#if>'']\"\n							   :multiValue=\"true\" :labelInValue=\"false\" :multiSelect=\"<#if search.multiSelect??>${search.multiSelect?c}<#else>false</#if>\" :showSearch=\"<#if search.showSearch??>${search.showSearch?c}<#else>false</#if>\"\n							   <#if (!search.from?? || search.from==''self'')>:dataSource=\"selectOptions${search_index}\" value-field=\"key\" text-field=\"name\"\n							   <#elseif (search.from==''url'')>url=\"${search.url}\" value-field=\"${search.url_valuefield}\" text-field=\"${search.url_textfield}\" parent-field=\"${search.url_parentfield}\"\n							   <#elseif (search.from==''dic'')>url=\"/api-system/system/core/sysDic/treeByKey?key=${search.dicKey}\" value-field=\"value\" text-field=\"name\" :toTree=\"false\"\n							   <#elseif (search.from==''sql'')>url=\"/api-form/form/core/formCustomQuery/queryForJson_${search.sql}\" data-field=\"data\" value-field=\"${search.sql_valuefield}\" text-field=\"${search.sql_textfield}\" parent-field=\"${search.sql_parentfield}\"\n							   @focus=\"selectFocus(''Q_<#if search.tablePre?? && search.tablePre!=\"\">${search.tablePre}_</#if>${search.fieldName}_S_${search.fieldOp}'',selectParams${search_index})\" :loadDataOnstart=\"true\"\n							   @onChange=\"searchChange(''${search.fieldName}'',''Q_<#if search.tablePre?? && search.tablePre!=\"\">${search.tablePre}_</#if>${search.fieldName}_S_${search.fieldOp}'')\" ajaxType=\"post\"\n							   <#elseif (search.from==''grant'')>url=\"/api-form/form/core/formEntityDataSetting/queryData_${search.grant}\" data-field=\"data\"\n							   @focus=\"selectFocus(''Q_<#if search.tablePre?? && search.tablePre!=\"\">${search.tablePre}_</#if>${search.fieldName}_S_${search.fieldOp}'')\" :loadDataOnstart=\"true\"\n							</#if>/>\n				<#elseif (search.fc==''dialog'')>\n					<rx-input-button v-model=\"params[''<#if search.autoFilter==''YES''>Q_<#if search.tablePre?? && search.tablePre!=\"\">${search.tablePre}.</#if>${search.fieldName}_S_${search.fieldOp}<#else>${search.fieldName}</#if>'']\" :multiValue=\"true\"\n									 :single=\"false\" :config=\"{fieldName:''${search.fieldName}'',queryField:''<#if search.autoFilter==''YES''>Q_<#if search.tablePre?? && search.tablePre!=\"\">${search.tablePre}.</#if>${search.fieldName}_S_${search.fieldOp}<#else>${search.fieldName}</#if>'',dialog:''<#if search.dialog??>${search.dialog}</#if>'',dialog_name:''<#if search.dialog_name??>${search.dialog_name}</#if>'',valueField:''<#if search.valueField??>${search.valueField}</#if>'',textField:''<#if search.textField??>${search.textField}</#if>'',single:!<#if search.multiSelect??>${search.multiSelect?c}<#else>true</#if>}\"\n									 @click=\"_OnDialogShow\"/>\n				</#if>\n			 </a-form-item>\n            </#list>\n          </a-form>\n        </div>\n        <#assign idField=convertUnderLine(pk)>\n        <rx-grid\n                ref=\"table\"\n			<#if settingJson.multiSelect==''notSelect''>\n                :allowRowSelect=\"false\"\n			<#else>\n				:allowRowSelect=\"true\"\n			</#if>\n			<#if settingJson.multiSelect==''move''>\n				:multiSelect=\"true\"\n			<#else>\n				:multiSelect=\"false\"\n			</#if>\n                :columns=\"columns\"\n			<#if settingJson.isPage==''YES''>\n				:showPage=\"true\"\n				:defaultPageSize=\"${settingJson.pageSize}\"\n				:pageSizeOptions=\"[''10'',''20'',''30'',''40'',''50'']\"\n			<#else>\n				:showPage=\"false\"\n			</#if>\n                url=\"/api-${system}/${system}/${package}/${classVar}/query\"\n                :queryParam=\"queryParam\"\n                data-field=\"result.data\"\n                id-field=\"${idField}\"\n                @selectChange=\"onSelectChange\"\n        >\n		  <#list commonList as col>\n		  ${slotScopeColFun(col)}\n          </#list>\n            <span slot=\"action\" slot-scope=\"{ text, record }\" class=\"actionIcons\">\n                <span  @click.stop=\"edit(record)\">编辑</span>\n				<span  @click.stop=\"detail(record)\">明细</span>\n                <span  @click.stop=\"delByIds([record.${idField}])\">删除</span>\n            </span>\n        </rx-grid>\n      </rx-fit>\n    </div>\n  </rx-layout>\n</template>\n\n<script>\n  import ${class}Api from ''@/api/${system}/${package}/${classVar}''\n  import ${class}Edit from ''./${class}Edit''\n  import {BaseList,RxFit,RxGrid,RxButton,RxSpan } from ''jpaas-common-lib'';\n  import CodeGenlistJs from \"@/views/modules/form/core/js-comps/CodeGenlist.js\";\n  import ListRender from ''@/views/modules/form/core/js-comps/ListRender.js'';\n  import RxCategoryTreeeditor from ''@/components/redxun/rx-category-treeeditor''\n  import RxParamsTreeeditor from ''@/components/redxun/rx-params-treeeditor''\n  //import  from \"@/views/modules/share/rx-button\";\n  //import  from \"@/views/modules/share/rx-span\";\n  export default {\n    name: ''${class}List'',\n    mixins: [BaseList,CodeGenlistJs,ListRender],\n    components: {\n      RxButton,\n      RxSpan,\n      RxFit,\n	  RxCategoryTreeeditor,\n	  RxParamsTreeeditor\n    },\n    data() {\n      return {\n        columns: [\n          {\n            title: ''序号'',\n            type: ''indexColumn'',\n            width: 100,\n            dataIndex: ''serial'',\n            scopedSlots: {customRender: ''serial''}\n          },\n          <#list commonList as col>\n		  <#if col.headShow==''YES''>\n		  {title: ''${col.comment}'', dataIndex: ''${col.name}'', width: ${col.fieldLength}, scopedSlots: {customRender: ''${col.name}''}},\n		  </#if>\n          </#list>\n          {title: ''操作'', width: 100, dataIndex: ''action'', scopedSlots: {customRender: ''action''}}\n        ],\n        component:${class}Edit,\n        comment:\"${comment}\",\n        fitSearch:false,\n		curTree:{},\n		${searchTreeScriptFun()}\n      }\n    },\n    methods:{\n	  ${leftQeuryParamFun()}\n      delById(ids){\n        return ${class}Api.del({ ids: ids.join('','') });\n      },\n      getListByParams(parameter){\n        return ${class}Api.query(parameter)\n      }\n\n    }\n  }\n</script>\n<style scoped>\n  .table-operator {\n    padding:4px;\n  }\n  .table-operator button {\n    margin:2px;\n  }\n</style>\n\n\n<#function searchTreeScriptFun >\n	<#assign listType=settingJson.listType>\n	<#assign treeJson=settingJson.treeJson>\n	<#assign treeKeyJson=treeJson.treeKeyJson>\n    <#assign rtn>\n        <#if listType==''tree''>\n			treeJson:${vueJs.treeJson},\n		</#if>\n		<#if treeJson.treeType==''sysDic'' || treeJson.treeType==''formData''>\n			treeCat:{\n						name:\"<#if treeJson.treeType==''sysDic''>${treeKeyJson.name}<#else>${treeJson.formSolution.name}</#if>\",\n						treeId:\"<#if treeJson.treeType==''sysDic''>${treeKeyJson.treeId}<#else>${treeJson.formSolution.alias}</#if>\"\n					},\n			searchTopNodesUrl:\"<#if treeJson.treeType==''sysDic''>/api-system/system/core/sysDic/getByTreeIdParentId<#else>/api-form/form/core/formSolution/getNodesTreeByAlias</#if>\",\n			searchParams:{\n			<#if treeJson.treeType==''sysDic''>\n				treeId:\"<#if treeJson.treeKey??>${treeKeyJson.treeId}</#if>\",\n				parentId:\"0\"\n			<#else>\n				alias: \"${treeJson.formSolution.alias}\",\n                pk: \"\"\n			</#if>\n			},\n			searchChildrenUrl:\"<#if treeJson.treeType==''sysDic''>/api-system/system/core/sysDic/getByParentId<#else>/api-form/form/core/formSolution/getNodesTreeByAlias</#if>\",\n			searchChildrenParams:{\n			<#if treeJson.treeType==''sysDic''>\n				parentId: \"parentId\"\n			<#else>\n				alias: \"${treeJson.formSolution.alias}\",\n                parentId: \"pk\"\n			</#if>\n			},\n			treeRelation:{\n				name:\"<#if treeJson.treeType==''sysDic''>name<#else>${treeJson.formSolution.searchLable}</#if>\",\n				treeId:\"<#if treeJson.treeType==''sysDic''>dicId<#else>${treeJson.formSolution.searchPkId}</#if>\",\n				parentId:\"<#if treeJson.treeType==''sysDic''>parentId<#else>${treeJson.formSolution.searchParentId}</#if>\",\n				key:\"<#if treeJson.treeType==''sysDic''>value<#else>${treeJson.formSolution.searchPkId}</#if>\",\n				value:\"<#if treeJson.treeType==''sysDic''>value<#else>${treeJson.formSolution.searchPkId}</#if>\"\n			},\n		</#if>\n    </#assign>\n    <#return rtn?trim>\n</#function>\n\n<#function leftQeuryParamFun >\n	<#assign listType=settingJson.listType>\n	<#assign treeJson=settingJson.treeJson>\n    <#assign rtn>\n        <#if listType==''tree''>\n			getCurTree(){\n                return this.curTree;\n            },\n			handSelect(curRow) {\n                this.curTree=curRow;\n                var treeId = curRow.treeId;\n                if(treeId!=\"0\"){\n                    this.queryParam.Q_${searchTreeColFun(treeJson)}_S_EQ=treeId;\n                }else {\n                    delete this.queryParam.Q_${searchTreeColFun(treeJson)}_S_EQ;\n                }\n                this.loadData(this.queryParam);\n            },\n		</#if>\n    </#assign>\n    <#return rtn?trim>\n</#function>\n\n<#function searchTreeColFun treeJson>\n<#assign searchTreeCol=treeJson.searchTreeCol>\n    <#assign rtn>\n        <#if searchTreeCol.isSingle==0>\n			<#if treeJson.searchTreeColKey==''name''>\n			${searchTreeCol.fieldName}_NAME\n			<#else>\n			${searchTreeCol.fieldName}\n			</#if>\n		<#else>\n		${searchTreeCol.fieldName}\n		</#if>\n    </#assign>\n    <#return rtn?trim>\n</#function>\n\n\n<#function leftSearchTreeFun >\n	<#assign listType=settingJson.listType>\n	<#assign treeJson=settingJson.treeJson>\n    <#assign rtn>\n        <#if listType==''tree''>\n			<#if treeJson.treeType==''treeId''>\n			<div slot=\"left\" width=\"220\" showButton=\"true\">\n				<rx-fit>\n					<rx-category-treeeditor\n						cat-key=\"${treeJson.treeKey}\"\n						:edit=\"<#if treeJson.canEdit==''YES''>true<#else>false</#if>\"\n						@handSelect=\"handSelect\"\n						:async=\"true\"\n						:readTreeId=\"<#if treeJson.catSysTreeKey??>''${treeJson.catSysTreeKey}''<#else>''''</#if>\"\n					></rx-category-treeeditor>\n				</rx-fit>\n			</div>\n			<#elseif treeJson.treeType==''sysDic'' || treeJson.treeType==''formData''>\n			<div slot=\"left\" width=\"220\" showButton=\"true\">\n				<rx-fit>\n					<rx-params-treeeditor\n					ref=\"rxParamsTreeeditor\"\n                    :edit=\"<#if treeJson.canEdit==''YES''>true<#else>false</#if>\"\n                    @handSelect=\"handSelect\"\n                    @addNode=\"add<#if treeJson.treeType==''sysDic''>Dic<#else>Form</#if>Node\"\n                    @addSibling=\"add<#if treeJson.treeType==''sysDic''>Dic<#else>Form</#if>Sibling\"\n                    @editNode=\"edit<#if treeJson.treeType==''sysDic''>Dic<#else>Form</#if>Node\"\n                    @deleteNode=\"delete<#if treeJson.treeType==''sysDic''>Dic<#else>Form</#if>Node\"\n                    :treeCat=\"treeCat\"\n                    :searchTopNodesUrl=\"searchTopNodesUrl\"\n                    :searchParams=\"searchParams\"\n                    :treeRelation=\"treeRelation\"\n                    :searchChildrenUrl=\"searchChildrenUrl\"\n					:searchChildrenParams=\"searchChildrenParams\"\n                ></rx-params-treeeditor>\n				</rx-fit>\n			</div>\n			</#if>\n		</#if>\n    </#assign>\n    <#return rtn?trim>\n</#function>\n\n<#function slotScopeColFun col>\n	<#assign ctlType=col.control>\n    <#assign rtn>\n        <#if ctlType==''rx-upload''>\n			<span :title=\"text\" slot=\"${col.name}\" slot-scope=\"{text,record,index,blur}\">\n				<span class=\"upFiles\" v-html=\"onFileRender(text)\"></span>\n            </span>\n		<#else>\n			<#if ctlType==''rx-address''>\n			<span slot=\"${col.name}\" slot-scope=\"{text,record,index,blur}\">\n				{{onAddressRender(''${model.genMode}'',record,''${col.name}'',${fileUtil.countAddressFromExtJson(col.extJson)})}}\n			</span>\n			<#elseif col.isSingle==''0''>\n			<span slot=\"${col.name}\" slot-scope=\"{text,record,index,blur}\">{{record.${col.name}Name}}</span>\n			<#else><span slot=\"${col.name}\" slot-scope=\"{text,record,index,blur}\">{{text}}</span></#if>\n		</#if>\n    </#assign>\n    <#return rtn?trim>\n</#function>\n\n<#function convertUnderLine field>\n  <#if field?index_of(\"_\")==-1>\n    <#assign rtn>${field?lower_case?trim}</#assign>\n    <#return rtn>\n  </#if>\n\n  <#if field?index_of(\"F_\")==0>\n    <#assign rtn><#list (field?substring(2))?split(\"_\") as x><#if (x_index==0)><#if x?length==1>${x?upper_case?trim}<#else>${x?lower_case?trim}</#if><#else>${x?lower_case?cap_first?trim}</#if></#list></#assign>\n    <#return rtn>\n  </#if>\n\n  <#assign rtn><#list field?split(\"_\") as x><#if (x_index==0)><#if x?length==1>${x?upper_case?trim}<#else>${x?lower_case?trim}</#if><#else>${x?lower_case?cap_first?trim}</#if></#list></#assign>\n  <#return rtn>\n</#function>\n\n',          'codeGen',          'main',          '{class}List.vue',          'src/views/modules/{system}/{package}',          'YES',          'genCode',          'mainSub',          0,            '0',          '1',          '1',          '1',          '2022-6-6 14:34:27',          null,          '2022-6-6 14:34:27',          null);
        
INSERT INTO form_template(ID_,NAME_,ALIAS_,TEMPLATE_,TYPE_,CATEGORY_,FILE_NAME_,PATH_,SINGLE_,GEN_MODE_,MAIN_SUB_TYPE_,DELETED_,COMPANY_ID_,TENANT_ID_,CREATE_DEP_ID_,CREATE_BY_,CREATE_TIME_,UPDATE_BY_,UPDATE_TIME_,APP_ID_)
        values(          '1533698962918469634',          '代码生成_实体编辑页面',          'bodefEntityVueW',          '<#assign package=model.vars.package>\n<#assign class=model.vars.class>\n<#assign classVar=model.vars.classVar>\n<#assign mainClassId=vars.mainClassId>\n<#assign templateType=vars.templateType>\n<#assign system=vars.system>\n<#assign domain=vars.domain>\n<#assign commonList=model.boAttrList>\n<#assign subComList=model.boEntityList>\n<template>\n    <rx-dialog @handOk=\"handleSubmit\" @cancel=\"cancel\" order=\"top\" btnalign=\"right\" :showok=\"!readonly\">\n        <rx-layout>\n            <div slot=\"center\">\n                <table class=\"table-form four-column\" style=\"width:100%;\" ctltype=\"rx-four-table\" id=\"${mainClassId}\"\n                       borders=\"noborder\" data-sort=\"sortDisabled\">\n                    <colgroup>\n						${colgroupRowFun(templateType)}\n                    </colgroup>\n                    <caption>\n                        ${model.name}\n                    </caption>\n                    <tbody>\n                        ${firstRowFun(commonList templateType)}\n                        ${otherRowFun(commonList templateType)}\n                        <#if (subComList?? && subComList?size>0)>\n                        ${subRowFun(subComList templateType)}\n                        </#if>\n                    </tbody>\n                </table>\n            </div>\n        </rx-layout>\n    </rx-dialog>\n</template>\n\n<script>\n    import ${class}Api from \"@/api/${system}/${package}/${classVar}.js\";\n    import ${class}Data from \"@/views/modules/${system}/${package}/${class}Data.js\";\n    import formJs from \"@/views/modules/form/core/js-comps/form.js\";\n	import {RxDialog} from ''jpaas-common-lib'';\n<#if mainSubType==''mainAloneSub''>\n	<#list model.boEntityList as subEnt>\n	import ${subEnt.vars.class}Edit from ''./${subEnt.vars.class}Edit''\n	</#list>\n</#if>\n    export default{\n        mixins: [formJs,${class}Data],\n        components:{\n        	RxDialog\n		},\n        props:[\"pkId\",\"layerid\",\"destroy\",\"readonly\",\"refKey\",\"refKeyName\"],\n        data(){\n            return {\n				<#if mainSubType==''mainAloneSub''>\n				components:{\n					<#list model.boEntityList as subEnt>\n					\"${subEnt.vars.classVar}\":${subEnt.vars.class}Edit,\n					</#list>\n				},\n				</#if>\n			}\n        },\n        created() {\n            //加载表单数据\n            this.loadData(${class}Api);\n        },\n        mounted(){\n            this.onload();\n        },\n        methods:{\n            onload(){\n\n            },\n            async _beforeSubmit(){\n\n            },\n            _afterSubmit(result,formJson){\n\n            },\n            enter(entName, field){\n\n            },\n            handleSubmit(vm){\n                this.handSubmit(${class}Api,vm);\n            }\n        },\n        watch:{\n        }\n    }\n</script>\n\n<#function subRowFun subComList templateType>\n    <#assign rtn>\n	<#assign colindexNum=templateType?number>\n        <#list subComList as sub>\n            <#assign subColList=sub.boAttrList>\n            <#assign subVars=sub.vars>\n            <#assign colIndex=sub?index>\n                <tr class=\"active2\" <#if mainSubType==''mainAloneSub''>v-if=\"readonly\"</#if>>\n                    <td colspan=\"<#if colindexNum==4>8<#else>4</#if>\" rowspan=\"1\">\n                        <div class=\"rx-table-body  \" ctltype=\"rx-table\" type=\"onetomany\" id=\"${sub.id}\"\n                             tablename=\"${subVars.classVar}\" style=\"width:100%\" tabname=\"${subVars.classVar}\"\n                             tabletype=\"default\" req=\"no\">\n                            <div class=\"table-header-tool\">\n                                <div class=\"title\">\n                                    <div>\n                                        ${sub.name}\n                                    </div>\n                                </div>\n								<#if mainSubType==''mainAloneSub''>\n								<a-button-group v-if=\"readonly\">\n                                    <a-button\n                                            v-on:click=\"addSubOne(''${subVars.classVar}'',''inner'',''${subVars.classVar}'','''',''${sub.id}'')\">\n                                        添加\n                                    </a-button>\n									<a-button\n                                            v-on:click=\"editSubOne(''${subVars.classVar}'',''inner'',''${subVars.classVar}'','''',''${sub.id}'')\">\n                                        编辑\n                                    </a-button>\n                                    <a-button\n                                            v-on:click=\"remove(''${subVars.classVar}'',''inner'',''${subVars.classVar}'','''',''${sub.id}'')\">\n                                        删除\n                                    </a-button>\n                                    <a-button\n                                            v-on:click=\"up(''${subVars.classVar}'',''inner'',''${subVars.classVar}'','''',''${sub.id}'')\">\n                                        上移\n                                    </a-button>\n                                    <a-button\n                                            v-on:click=\"down(''${subVars.classVar}'',''inner'',''${subVars.classVar}'','''',''${sub.id}'')\">\n                                        下移\n                                    </a-button>\n                                </a-button-group>\n								<#else>\n								<a-button-group v-if=\"!getReadonly()\">\n                                    <a-button\n                                            v-on:click=\"add(''${subVars.classVar}'',''inner'',''${subVars.classVar}'','''',''${sub.id}'')\">\n                                        添加\n                                    </a-button>\n                                    <a-button\n                                            v-on:click=\"remove(''${subVars.classVar}'',''inner'',''${subVars.classVar}'','''',''${sub.id}'')\">\n                                        删除\n                                    </a-button>\n                                    <a-button\n                                            v-on:click=\"up(''${subVars.classVar}'',''inner'',''${subVars.classVar}'','''',''${sub.id}'')\">\n                                        上移\n                                    </a-button>\n                                    <a-button\n                                            v-on:click=\"down(''${subVars.classVar}'',''inner'',''${subVars.classVar}'','''',''${sub.id}'')\">\n                                        下移\n                                    </a-button>\n                                </a-button-group>\n								</#if>\n                            </div>\n                            <div class=\"rx-table-box\">\n                                <table class=\"rx-table\">\n                                    <colgroup>\n                                        <col style=\"width: 60px;\">\n                                        <col style=\"width: 60px;\">\n                                        <#list subColList as col>\n                                        <col style=\"width: 100px;\">\n                                        </#list>\n                                    </colgroup>\n                                    <thead>\n                                        <tr class=\"firstRow\">\n                                            <th>#</th>\n                                            <th>序号</th>\n                                            <#list subColList as col>\n                                            <th v-bind:class=\"{required:required.${subVars.classVar}[''fields''].${col.name}}\">${col.comment}</th>\n                                            </#list>\n                                        </tr>\n                                    </thead>\n                                    <tbody>\n                                        <tr v-if=\"''item''\" v-for=\"(item,index) in data.sub__${subVars.classVar}\"\n                                            v-tableselect=\"{item:item,selmode:''multi'',data:data.sub__${subVars.classVar}}\"\n                                            :key=\"item.index_\" :class=\"{active:item.selected}\">\n                                            <td><a-checkbox :checked=\"item.selected\"></a-checkbox></td>\n                                            <td><rx-serial :serial=\"index+1\"></rx-serial></td>\n                                            <#list subColList as col>\n                                            <td>\n                                                <${col.control} \n													type=\"onetomany\"\n													id=\"${col.id}\" \n													:readonly=\"readonly\"\n													v-model=\"item.${col.name}\" \n													:data=\"data\" \n													:row=\"item\"\n													:valid=\"validFunc(''${subVars.classVar}'',''${col.name}'',item)\"\n													name=\"${col.name}\"\n													permission=\"w\" \n													${subColOtherFun(col)} ></${col.control}>\n                                            </td>\n                                            </#list>\n                                        </tr>\n                                    </tbody>\n                                </table>\n                                <div class=\"tableEmpty\"\n                                     v-if=\"data.sub__${subVars.classVar}&amp;&amp;data.sub__${subVars.classVar}.length <= 0\">\n                                    <a-empty></a-empty>\n                                </div>\n                            </div>\n                        </div>\n                    </td>\n                </tr>\n        </#list>\n    </#assign>\n    <#return rtn?trim>\n</#function>\n\n<#function colgroupRowFun templateType>\n    <#assign colindexNum=templateType?number>\n    <#assign rtn>\n		<#if colindexNum==1>\n		<col width=\"20%\">\n		<col width=\"80%\">\n		<#elseif colindexNum==2>\n		<col width=\"15%\">\n		<col width=\"35%\">\n		<col width=\"15%\">\n		<col width=\"35%\">\n		<#elseif colindexNum==4>\n		<col width=\"8%\"/>\n		<col width=\"17%\"/>\n		<col width=\"8%\"/>\n		<col width=\"17%\"/>\n		<col width=\"8%\"/>\n		<col width=\"17%\"/>\n		<col width=\"8%\"/>\n		<col width=\"17%\"/>\n		</#if>\n    </#assign>\n    <#return rtn?trim>\n</#function>\n\n<#function subColOtherFun col>\n    <#assign ctlType=col.control>\n    <#assign rtn>\n        <#if ctlType==''rx-number''>\n            :max=\"100000000\" \n			:min=\"0\" \n			:step=\"1\" \n			valmode=\"single\"\n        <#elseif ctlType==''rx-textbox''>\n            :ispassword=\"false\"\n        <#elseif ctlType==''rx-form-select''>\n            verifyhide=\"${col.name}\"\n        <#elseif ctlType==''rx-user''>\n            valmode=\"double\"\n			gridname=\"main\"\n            verifyhide=\"${col.name}\"\n        <#elseif ctlType==''rx-group''>\n            valmode=\"double\"\n			gridname=\"main\"\n            verifyhide=\"${col.name}\"\n        <#else >\n            valmode=\"single\"\n        </#if>\n    </#assign>\n    <#return rtn?trim>\n</#function>\n\n<#function getRemainderNum templateNum>\n    <#assign rtn>\n        <#if templateNum==0 || templateNum==1 || templateNum==2>\n             1\n		<#elseif templateNum==3>\n			2\n		<#elseif templateNum==4>\n			3\n        </#if>\n    </#assign>\n    <#return rtn?trim>\n</#function>\n\n<#function otherRowFun commonList templateType>\n    <#assign templateNum=templateType?number>\n	<#assign remainderNum=getRemainderNum(templateNum)>\n    <#assign rtn>\n        <#list commonList as col>\n            <#assign colIndex=col?index>\n            <#if colIndex &gt;= templateNum>\n                <#if (colIndex % templateNum==0)>\n                    <tr>\n                </#if>\n                <#if (col.control==''rx-tree-select'' || col.control==''rx-form-select'')>\n                    <td style=\"word-break: break-all;\" :class=\"{required:required.main.khly}\">${col.comment}</td>\n                <#else >\n                    <td style=\"word-break: break-all;\">${col.comment}</td>\n                </#if>\n                    <td style=\"word-break: break-all;\">\n                        <${col.control} \n							type=\"main\"\n							id=\"${col.id}\"\n							:readonly=\"readonly\"\n							v-model=\"data.${col.name}\"\n							:valid=\"validFunc(''main'',''${col.name}'')\"\n							permission=\"w\"\n							${colOtherFun(col)}></${col.control}>\n                    </td>\n                <#if colIndex % templateNum == remainderNum || !col_has_next>\n                </tr>\n                </#if>\n            </#if>\n        </#list>\n    </#assign>\n    <#return rtn?trim>\n</#function>\n\n<#function firstRowFun commonList templateType>\n    <#assign colindexNum=templateType?number>\n    <#assign rtn>\n        <#list commonList as col>\n            <#assign colIndex=col?index>\n            <#if colIndex==0>\n                <tr class=\"firstRow\">\n            </#if>\n            <#if colIndex<colindexNum>\n                <td style=\"word-break: break-all;\">${col.comment}</td>\n                <td style=\"word-break: break-all;\">\n                <${col.control} \n					type=\"main\"\n					id=\"${col.id}\"\n					:readonly=\"readonly\"\n					v-model=\"data.${col.name}\"\n					:valid=\"validFunc(''main'',''${col.name}'')\"\n					permission=\"w\"\n					${colOtherFun(col)}></${col.control}>\n                </td>\n            </#if>\n            <#if (colindexNum-colIndex)==1>\n                </tr>\n            </#if>\n        </#list>\n    </#assign>\n    <#return rtn?trim>\n</#function>\n\n\n<#function colOtherFun col>\n    <#assign ctlType=col.control>\n    <#assign rtn>\n        <#if ctlType==''rx-address''>\n		<#assign extJson=fileUtil.parseAddressFromExtJson(col.extJson)>\n           :setting=\"{isCity:${extJson.isCity},isCounty:${extJson.isCounty},isAddress:${extJson.isAddress}}\"\n        <#elseif ctlType==''rx-radio''>\n			mode=\"default\"\n			valmode=\"<#if col.isSingle==0>double<#else>single</#if>\"\n			:data=\"data\"\n			verifyhide=\"${col.name}\"\n			:onlyvalue=\"false\"\n        <#elseif ctlType==''rx-number''>\n			:max=\"1000000\"\n			:min=\"0\"\n			:step=\"1\"\n			length=\"${col.length},${col.decimalLength}\"\n        <#elseif ctlType==''rx-switch''>\n			mode=\"custom\"\n			verifyhide=\"${col.name}\"\n			check=\"Y\"\n			uncheck=\"N\"\n        <#elseif ctlType==''rx-tree-select''>\n			mode=\"multiple\"\n			valmode=\"<#if col.isSingle==0>double<#else>single</#if>\"\n			:selectable=\"false\"\n			:data=\"data\"\n        <#elseif ctlType==''rx-form-select''>\n			:data=\"data\"\n			mode=\"<#if col.isSingle==0>double<#else>single</#if>\"\n			valmode=\"single\"\n			:hideselect=\"false\"\n			verifyhide=\"${col.name}\"\n        <#elseif ctlType==''rx-date''>\n            format=\"YYYY-MM-DD HH:mm:ss\"\n        <#elseif ctlType==''rx-user''>\n			:data=\"data\"\n			gridname=\"main\"\n			:single=\"false\"\n			verifyhide=\"${col.name}\"\n        <#elseif ctlType==''rx-group''>\n			:data=\"data\"\n			verifyhide=\"${col.name}\"\n			gridname=\"main\"\n			:single=\"false\"\n			:showdeptpath=\"false\"\n			:deptpathlevel=\"0\"\n			:showdimid=\"true\"\n        </#if>\n    </#assign>\n    <#return rtn?trim>\n</#function>',          'codeGen',          'main',          '{class}Edit.vue',          'src/views/modules/{system}/{package}',          'YES',          'genCode',          'mainSub',          0,            '0',          '1',          '1',          '1',          '2022-6-6 14:35:02',          '1',          '2022-6-30 10:16:21',          null);
        

commit;